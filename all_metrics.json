{
    "metrics": [
      {
        "id": "a2d_a2o_sap_erp_avg_po_processing_time",
        "name": "Average processing time for purchase orders",
        "description": "Average time from the creation of a purchase order to its acknowledgment",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ato_po_acknowledgement_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ato_po_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_avg_pr_confirmation_time",
        "name": "Average confirmation time for purchase requisitions",
        "description": "Average time needed to confirm a purchase requisition by creating a purchase order",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ato_po_creation_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ato_pr_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_goods_return_rate",
        "name": "Goods return rate",
        "description": "Percentage of cases with delivery returns",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE event_name IN (${ato_return_delivery_events})) > 0\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_avg_po_to_delivery_time",
        "name": "Average time from purchase order to delivery",
        "description": "Average time from purchase order to goods receipt",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ato_goods_receipt_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ato_po_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_process_compliance",
        "name": "Process compliance",
        "description": "Percentage of compliant Acquire-to-Onboard cases",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ato_compliant_event_sequence})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_two_way_match_rate",
        "name": "Two-way match rate",
        "description": "Percentage of purchase orders with a two-way match",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ato_two_way_match_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_late_deliveries",
        "name": "Late deliveries cases",
        "description": "Number of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ato_late_delivery_condition}\n\t\tAND ${ato_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_late_deliveries_rate",
        "name": "Late deliveries rate",
        "description": "Percentage of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ato_late_delivery_condition}\n\t\tAND ${ato_delivery_completed_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE ${ato_delivery_completed_condition}\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_late_deliveries_delay",
        "name": "Average delay of late deliveries",
        "description": "The average delay time of late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "AVG(${ato_goods_receipt_date} - ${ato_delivery_due_date}) FILTER (\n\tWHERE ${ato_late_delivery_condition}\n\t\tAND ${ato_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_on_time_delivery_rate",
        "name": "On-Time Delivery rate",
        "description": "Percentage of cases with on-time deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "(1 - \n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ato_late_delivery_condition}\n\t\t\tAND ${ato_delivery_completed_condition}\n\t\t)\n\t/\n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ato_delivery_completed_condition}\n\t\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_overdue_deliveries",
        "name": "Overdue deliveries cases",
        "description": "Number of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ato_overdue_delivery_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_overdue_deliveries_rate",
        "name": "Overdue deliveries rate",
        "description": "Percentage of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ato_overdue_delivery_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${ato_delivery_completed_condition}) IS NULL\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_maverick_buying_price_changes",
        "name": "Maverick Buying - Prices Changes after Goods Receipt",
        "description": "Total number of cases with price changes that happened after the Goods Receipt had already been registered",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ato_maverick_buying_price_change_condition})\n\t)\n/ COUNT(case_id) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_maverick_buying_rate_po_after_invoice",
        "name": "Maverick Buying Rate - PO Creation after Invoice Creation",
        "description": "Percentage of cases in which the PO Item was created after the Invoice, a common indicator for Maverick Buying",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ato_maverick_buying_po_after_invoice_condition})\n\t)\n/ COUNT(case_id) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_pos_created_after_invoice_creation",
        "name": "POs created after Invoice Creation",
        "description": "Total number of cases in which a PO Item has been created after the Invoice Creation event",
        "signalFragment": "COUNT(case_id) FILTER\n\t(WHERE (event_name MATCHES(${ato_po_created_after_invoice_created})))",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_no_touch_order_rate",
        "name": "No-touch-order rate",
        "description": "Percentage of no-touch-orders, which are cases that ran without any changes or typical rework events. Automation of events is not considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES ((${ato_change_event_flow}))) AND (event_name MATCHES(${ato_goods_receipt_events}))\n\t)\n/ (COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ato_goods_receipt_events}))\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_invoices_waiting_for_gr",
        "name": "Invoices waiting for Goods Receipt",
        "description": "Total number of cases with Invoices waiting for the Goods Receipt event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES(${ato_goods_receipt_events}))\n\tAND (event_name MATCHES(${ato_invoice_event_flow}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_perfect_order_fulfillment_rate",
        "name": "Perfect order fulfillment rate",
        "description": "Percentage of cases that went through without any reversal of Goods Receipts",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ato_goods_receipt_events}))\n\t)\n\t-\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ato_goods_receipt_reversal_events}))\n\t))\n\t/\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ato_goods_receipt_events}))\n\t)\n\t* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_automation_rate_for_asset_creation",
        "name": "Automation rate for asset creation",
        "description": "Percentage of cases with automated asset creation",
        "signalFragment": "SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE ( event_name = 'Create Asset Item')\n AND (\"Event Created By User Type\" IN ('System','Service')\n))\n\t))\n\t/ SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE ( event_name = 'Create Asset Item')\n ))) * 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_automation_rate_for_invoice_creation",
        "name": "Automation rate for invoice creation",
        "description": "Percentage of cases with automated invoice creation",
        "signalFragment": "SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\tAND event_name = 'Create FI Invoice'\n))\n\t))\n\t/ SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE event_name = 'Create FI Invoice')\n)) * 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_automation_rate_for_purchase_orders_creation",
        "name": "Automation rate for purchase orders creation",
        "description": "Percentage of cases with automated purchase orders creation",
        "signalFragment": "SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n \tAND event_name = 'Create PO Item'\n  ))\n\t))\n\t/ SUM((SELECT COUNT(\"case_id\") FILTER (\n\t\tWHERE event_name = 'Create PO Item'\n ))) * 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_avg_cycle_time_asset_creation_to_asset_activation",
        "name": "Average cycle time asset creation to asset activation",
        "description": "Average cycle time between asset crated and asset capitalization",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Capitalize Asset Item'))) \n\t- (SELECT FIRST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Create Asset Item')\n)))\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_avg_cycle_time_purchase_order_to_asset_creation",
        "name": "Average cycle time purchase order to asset creation",
        "description": "Average cycle time between purchase order creation and asset creation",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n \tWHERE EVENT_NAME IN ('Create Asset Item')\n)) \n\t- (SELECT FIRST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Create PO Item')))) \n        ",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_a2o_sap_erp_avg_cycle_time_purchase_order_to_invoice_posting",
        "name": "Average cycle time purchase order to invoice posting",
        "description": "Average cycle time between purchase order creation and invoice posting",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Post FI Invoice'))) \n\t- (SELECT FIRST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Create PO Item')))) \n        ",
        "aggregationType": "CASE",
        "processTypes": [
          "ACQUIRE_TO_ONBOARD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_notification_creation_automation_rate",
        "name": "Notification creation automation rate",
        "description": "Percentage of notification items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n \tAND (event_name = 'Create Notification')))\n\t))\n\t/ SUM((SELECT COUNT(DISTINCT\"case_id\") FILTER (\n\t\tWHERE event_name = 'Create Notification'\n))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_notification_creation",
        "name": "Number of manual notification creations",
        "description": "Number of notification items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n\t\tAND (event_name = 'Create Notification')\n\t))\n))",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_order_creation_automation_rate",
        "name": "Order creation automation rate",
        "description": "Percentage of order items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create Maintenance Order')))\n\t))\n/ SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE event_name = 'Create Maintenance Order'\n))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_order_creation",
        "name": "Number of manual order creations",
        "description": "Number of maintenance order items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n        \tAND (event_name = 'Create Maintenance Order')\n\t))\n))",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_notification_changes_rate",
        "name": "Manual notification changes rate",
        "description": "Percentage of notification items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n\t\tAND (event_name LIKE 'Change Notification%')))\n\t))\n/ SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE event_name LIKE 'Change Notification%')\n)) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_notification_item_changes",
        "name": "Number of manual notification item changes",
        "description": "Number of notification items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n\t\tAND (event_name LIKE 'Change Notification%'))))\n\t",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_order_changes_rate",
        "name": "Manual order changes rate",
        "description": "Percentage of order items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n\t\tAND (event_name LIKE 'Change MO%')))\n\t))\n\t/ SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE event_name LIKE 'Change MO%')\n)) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "a2d_o2m_sap_erp_manual_order_item_changes",
        "name": "Number of manual order item changes",
        "description": "Number of order items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('Dialog')\n\t\tAND (event_name LIKE 'Change MO%'))))\n\t",
        "aggregationType": "CASE",
        "processTypes": [
          "OPERATE_TO_MAINTAIN"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "automation_rate",
        "name": "Automation rate over cases",
        "description": "Number of automated events divided by all events",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (${automation_condition}))\n\t)\n\t)\n/ SUM((SELECT COUNT(event_name)))\n* 100",
        "aggregationType": "CASE",
        "category": "Automation",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "automation_rate_potential",
        "name": "Automation rate potential",
        "description": "Percentage of events that could be automated",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (${automation_potential_condition}))\n\t)\n\t)\n/ SUM((SELECT COUNT(event_name)))\n* 100",
        "aggregationType": "CASE",
        "category": "Automation",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "automation_rate_events",
        "name": "Automation rate over events",
        "description": "Number of automated events divided by all events",
        "signalFragment": "count(event_name) FILTER \n(WHERE (${automation_condition})) \n/ count(event_name) * 100",
        "aggregationType": "EVENT",
        "category": "Automation",
        "releaseDate": "2022-12-08",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "avg_nr_changes_per_case",
        "name": "Average number of changes per case",
        "description": "Average number of change events per case",
        "signalFragment": "AVG(\n\t(SELECT COUNT(DISTINCT ${ueid}) FILTER (\n\t\tWHERE event_name ILIKE ${change_events})))",
        "aggregationType": "CASE",
        "category": "Changes",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_change_events_per_case",
        "name": "Percentage of change events per case",
        "description": "Average percentage of change events per case",
        "signalFragment": "AVG(\n\t(SELECT COUNT(DISTINCT ${ueid}) FILTER (\n\t\tWHERE event_name ILIKE ${change_events})\n\t) / (SELECT COUNT(event_name))\n\t) * 100",
        "aggregationType": "CASE",
        "category": "Changes",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_cases_with_changes",
        "name": "Percentage of cases with changes",
        "description": "Percentage of cases that contain change events",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name ILIKE ${change_events})))\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "category": "Changes",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_cases_with_manual_changes",
        "name": "Percentage of cases with manual changes",
        "description": "Percentage of cases that contain change events executed manually",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name ILIKE ${change_events}) AND BOOL_OR(${manual_changes_condition})))\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "category": "Changes",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "conformance_level",
        "name": "Conformance level",
        "description": "Percentage of cases without conformance issues",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${conformance_condition})) \n/ COUNT(case_id) \n* 100",
        "aggregationType": "CASE",
        "category": "Conformance",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "non_conformant_cases",
        "name": "Non-conformant cases",
        "description": "Total number of non-conformant cases",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES(${conformance_condition})))",
        "aggregationType": "CASE",
        "category": "Conformance",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "cases_compliance_risk",
        "name": "Cases at compliance risk",
        "description": "Number of cases that might face penalty due to compliance violation",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (NOT event_name MATCHES(${conformance_condition})\n\tAND (SELECT BOOL_OR( event_name IN (${compliance_milestone_events})))\n\tAND (SELECT\n\t\tLAST(end_time) FILTER (WHERE event_name ILIKE (${compliance_end_events}))\n\t\t-\n\t\tFIRST(end_time) FILTER (WHERE event_name IN (${compliance_start_events}))\n\t) < DURATION ${compliance_threshold_time}\n\t)\n)",
        "aggregationType": "CASE",
        "category": "Conformance",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "avg_cycle_time",
        "name": "Average cycle time",
        "description": "Average cycle time calculated from the first to the last event",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)) - (SELECT FIRST(end_time))\n   )",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "median_cycle_time",
        "name": "Median cycle time",
        "description": "Median cycle time calculated from the first to the last event",
        "signalFragment": "MEDIAN((SELECT LAST(end_time)) - (SELECT FIRST(end_time)))",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "avg_custom_cycle_time",
        "name": "Average custom cycle time",
        "description": "Average cycle time between two events of interest to the user",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name ILIKE ${end_events})))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${start_events}))))\n   )",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "avg_cycle_time_open_cases",
        "name": "Average cycle time for open cases",
        "description": "Average cycle time for all currently open cases",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))) FILTER (\n\t\tWHERE (SELECT FIRST(event_name) FILTER (\n\t\t\tWHERE event_name IN (${closing_events}))) IS NULL\n   )",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "planned_actual_cycle_time_ratio",
        "name": "Difference between planned and actual average cycle time",
        "description": "Comparison between planned and actual average cycle time: when > 1 then the actual cycle time is smaller than that planned",
        "signalFragment": "(DURATION ${threshold_cycle_time})/\nAVG(\n\t(\n\t\t(SELECT LAST(end_time) WHERE event_name\n\t\t\tILIKE ${end_events}\n\t)\n\t-\n(SELECT FIRST(end_time) WHERE event_name\n\t\t\tIN (${start_events})\n)\n)\n )",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_timely_execution",
        "name": "Percentage of cases executed in less than a given time",
        "description": "Percentage of cases executed in less than a given time threshold",
        "signalFragment": "count(case_id)\n\tFILTER (WHERE \n\t\t\t(SELECT LAST(end_time) FILTER (WHERE event_name\n\t\t\tILIKE ${end_events})\n\t\t-\n\tFIRST(end_time) FILTER (WHERE event_name\n\t\t\tIN (${start_events}))\n\t\t) < DURATION ${threshold_cycle_time}\n)\n/ COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name ILIKE ${end_events}))\n\t) * 100",
        "aggregationType": "CASE",
        "category": "Cycle Time",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "dropout_number",
        "name": "Number of dropouts",
        "description": "Number of cases that were started and not successfully completed",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT LAST(event_name) IN (${dropout_events}))\n   )",
        "aggregationType": "CASE",
        "category": "Dropouts",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "dropout_rate",
        "name": "Dropout rate",
        "description": "Percentage of cases that were started and not successfully completed",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT LAST(event_name) IN (${dropout_events})))\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "category": "Dropouts",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "nr_idle_cases",
        "name": "Number of idle cases",
        "description": "Number of cases that are open long enough to qualify as dropouts",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOW() - (SELECT LAST(end_time)) > DURATION ${dropout_threshold_time}\n\t\tAND (SELECT FIRST(event_name) FILTER (\n\t\t\tWHERE event_name ILIKE ${case_end_events})) IS NULL\n   )",
        "aggregationType": "CASE",
        "category": "Dropouts",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "time_spent_on_dropouts",
        "name": "Amount of time spent on dropouts",
        "description": "Total cycle time of all cases until the last event before dropout",
        "signalFragment": "SUM(\n\t(SELECT LAST(end_time)) - (SELECT FIRST(end_time))) FILTER (\n\t\tWHERE (SELECT LAST(event_name) IN (${dropout_events}))\n   )",
        "aggregationType": "CASE",
        "category": "Dropouts",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_total_overdue_invoice_amount",
        "name": "Total overdue invoice amounts",
        "description": "Sum of all invoice amounts that are overdue (converted in USD)",
        "signalFragment": "SUM(${itc_ecc_s4h_amount_conv}) FILTER(\n\t WHERE (${itc_ecc_s4h_clearing_date} IS NULL)\n\t\tAND ${itc_ecc_s4h_due_date} < DATE_TRUNC('day', NOW())\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_open_overdue_invoices",
        "name": "Number of open overdue invoices",
        "description": "Number of invoices that are currently open and overdue",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NULL)\n\t\tAND ${itc_ecc_s4h_due_date} < DATE_TRUNC('day', NOW())\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_avg_lead_time",
        "name": "Average time invoice creation to invoice clearing",
        "description": "Average time from invoice creation to invoice clearing within a reference period",
        "signalFragment": "AVG(\n\t(SELECT LAST(${itc_ecc_s4h_clearing_date}) \n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${itc_ecc_s4h_invoice_clearing_period}))\n\t-(SELECT LAST(${itc_ecc_s4h_posting_date})\n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${itc_ecc_s4h_invoice_posting_period}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_avg_creation_pgi_invoice",
        "name": "Average time post goods issue to invoice creation",
        "description": "Average time from posting goods issue to invoice creation",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) \n\tWHERE event_name IN (${itc_ecc_s4h_invoice_creation_events})) \n\t-\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN (${itc_ecc_s4h_shipping_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_no_payment_rate",
        "name": "No payment rate",
        "description": "Percentage of overdue invoices from all open invoices",
        "signalFragment": "COUNT (case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NULL AND ${itc_ecc_s4h_due_date} < DATE_TRUNC('day', NOW()))\n\t)\n/ COUNT (case_id) FILTER(\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NULL)) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_dunning_rate",
        "name": "Dunning rate",
        "description": "Percentage of invoices that were dunned",
        "signalFragment": "COUNT (case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_dunning_condition})\n\t) / COUNT (case_id) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_automation_rate_inv_clearing",
        "name": "Automation rate for invoice clearing",
        "description": "Percentage of automated invoice clearing events",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${itc_ecc_s4h_clear_invoice_events})\n\t\t\tAND (${itc_ecc_s4h_automation_condition})))\n\t)\n)\n/ SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\tWHERE (event_name IN (${itc_ecc_s4h_clear_invoice_events})))\n\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_duration_of_dunning_blocks",
        "name": "Duration of dunning blocks",
        "description": "Average lead time from setting a dunning block to removing the last dunning block",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER \n\t\t(WHERE event_name IN (${itc_ecc_s4h_remove_dunning_block_events})))\n\t-\n\t(SELECT FIRST(end_time) FILTER\n\t\t(WHERE event_name IN (${itc_ecc_s4h_set_dunning_block_events})))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_days_sales_outstanding",
        "name": "Days Sales Outstanding (DSO)",
        "description": "Average number of days to collect revenue, weighted by the invoice value",
        "signalFragment": "AVG((\n\t(SELECT LAST(${itc_ecc_s4h_clearing_date})) \n\t\t- (SELECT FIRST(${itc_ecc_s4h_posting_date})))\n\t*(SELECT LAST(${itc_ecc_s4h_amount_conv}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of invoices that were cleared 1 day after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} - ${itc_ecc_s4h_due_date} \n\t\t> DURATION ${itc_ecc_s4h_late_payment_condition})\n)\n/COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NOT NULL)\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_early_payment_rate",
        "name": "Early payment rate",
        "description": "Percentage of invoices that were cleared more than 5 days before their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_due_date} - ${itc_ecc_s4h_clearing_date} \n\t\t> DURATION ${itc_ecc_s4h_early_payment_condition})\n)\n/COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NOT NULL)\n)* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_on_time_payment_rate",
        "name": "On-time payment rate",
        "description": "Percentage of invoices that were cleared less than 5 days before and no later than 1 day after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} - ${itc_ecc_s4h_due_date} \n\t\t< DURATION ${itc_ecc_s4h_late_payment_condition}\n\tAND ${itc_ecc_s4h_due_date} - ${itc_ecc_s4h_clearing_date}\n\t\t< DURATION ${itc_ecc_s4h_early_payment_condition}\n\t)\n)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${itc_ecc_s4h_clearing_date} IS NOT NULL)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_no_touch_invoice",
        "name": "No-Touch invoice processing rate",
        "description": "Percentage of invoices with no change events",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES((${itc_ecc_s4h_no_touch_condition}))) \n\t\tAND (event_name MATCHES(${itc_ecc_s4h_clear_invoice_events}))\n)\n/ (COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itc_ecc_s4h_clear_invoice_events}))\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_inv_without_billing_doc",
        "name": "Invoices without billing doc from SO",
        "description": "Invoices without Billing Document from Sales Order",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(NOT ${itc_ecc_s4h_billing_doc_to_invoice_events})\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_reversed_invoices",
        "name": "Percentage of reversed invoices",
        "description": "Percentage of invoices that were reversed",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itc_ecc_s4h_invoice_reversal_events}))\n/\nCOUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_erp_baseline_date_changes",
        "name": "Percentage of baseline date changes",
        "description": "Percentage of Baseline Date Changes after the Invoice was posted to SAP",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itc_ecc_s4h_change_baseline_date})\n\t\tAND event_name MATCHES(${itc_ecc_s4h_posting_to_baseline_change_events}))\n/\nCOUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_avg_ar_creation_to_clearing_time",
        "name": "Average accounts receivable documents creation to clearing time",
        "description": "Average time from accounts receivable documents creation to clearing",
        "signalFragment": "SUM(\"AR_AVGClearingDays\" * \"AR_CountClearedDocuments\")\n/\nSUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_avg_net_payment_terms",
        "name": "Average net payment terms",
        "description": "Average net payment terms in days",
        "signalFragment": "SUM(\"AR_AVGNetDueDateDays\" * \"AR_CountDocuments\")\n/\nSUM(\"AR_CountDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_avg_payment_delay",
        "name": "Average payment delay",
        "description": "Average delay of payments in days",
        "signalFragment": "SUM(\"AR_AVGClearingAfterNetDueDays\" * \"AR_CountClearedDocuments\")\n/\nSUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_billing_request_rejection_rate",
        "name": "Billing request (DMR) rejection rate",
        "description": "Percentage of billing requests (debit memo requests) that were rejected",
        "signalFragment": "(\nSUM(\"BillingRequest_RejectedCount\")\n/\nSUM(\"BillingRequest_TotalCount\")\n)\n * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_automation_rate_inv_clearing",
        "name": "Automation rate for invoice clearing",
        "description": "Percentage of automated invoice clearing events",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${i2c_s4hc_clear_invoice_events})\n\t\t\tAND (${i2c_s4hc_automation_condition})))\n\t)\n)\n/ SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\tWHERE (event_name IN (${i2c_s4hc_clear_invoice_events})))\n\t)\n)\n * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_avg_lead_time",
        "name": "Average time from invoice creation to its clearing within a certain time frame",
        "description": "Average time from invoice creation to invoice clearing within a reference period",
        "signalFragment": "AVG(\n\t(SELECT LAST(${i2c_s4hc_clearing_date}) \n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${i2c_s4hc_invoice_clearing_period}))\n\t-(SELECT LAST(${i2c_s4hc_posting_date})\n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${i2c_s4hc_invoice_posting_period}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_days_sales_outstanding",
        "name": "Days sales outstanding (DSO)",
        "description": "Average number of days to collect revenue, weighted by the invoice value",
        "signalFragment": "AVG((\n\t(SELECT LAST(${i2c_s4hc_clearing_date})) \n\t\t- (SELECT FIRST(${i2c_s4hc_posting_date})))\n\t* (SELECT LAST(${i2c_s4hc_amount_conv}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_early_payment_rate",
        "name": "Early payment rate",
        "description": "Percentage of invoices that were cleared more than 5 days before their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_due_date} - ${i2c_s4hc_clearing_date} \n\t\t> DURATION ${i2c_s4hc_early_payment_condition})\n)\n/ COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} IS NOT NULL)\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of invoices that were cleared one or more days after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} - ${i2c_s4hc_due_date} \n\t\t> DURATION ${i2c_s4hc_late_payment_condition})\n)\n/ COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} IS NOT NULL)\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_no_payment_rate",
        "name": "No payment rate",
        "description": "Percentage of overdue invoices from all open invoices",
        "signalFragment": "COUNT (case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} IS NULL AND ${i2c_s4hc_due_date} < DATE_TRUNC('day', NOW()))\n\t)\n/ COUNT (case_id) FILTER(\n\tWHERE (${i2c_s4hc_clearing_date} IS NULL)) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_open_overdue_invoices",
        "name": "Number of open overdue invoices",
        "description": "Number of invoices that are currently open and overdue",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} IS NULL)\n\t\t AND ${i2c_s4hc_due_date} < DATE_TRUNC('day', NOW())\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_on_time_payment_rate",
        "name": "On-time payment rate",
        "description": "Percentage of invoices that were cleared less than one day or more before and no later than one day or more after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} - ${i2c_s4hc_due_date} \n\t\t< DURATION ${i2c_s4hc_late_payment_condition}\n\t AND ${i2c_s4hc_due_date} - ${i2c_s4hc_clearing_date}\n\t\t< DURATION ${i2c_s4hc_early_payment_condition}\n\t)\n)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${i2c_s4hc_clearing_date} IS NOT NULL)\n)\n * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_reversed_invoices",
        "name": "Percentage of reversed invoices",
        "description": "Percentage of invoices that were reversed",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${i2c_s4hc_invoice_reversal_events}))\n/\n COUNT(case_id)\n * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_overdue_invoice_amount",
        "name": "Total overdue invoice amounts",
        "description": "Sum of all invoice amounts that are overdue",
        "signalFragment": "SUM(${i2c_s4hc_amount_conv}) FILTER(\n\t WHERE (${i2c_s4hc_clearing_date} IS NULL)\n\t\t AND ${i2c_s4hc_due_date} < DATE_TRUNC('day', NOW())\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_invoice_cancellation_rate",
        "name": "Invoice cancellation rate",
        "description": "Percentage of invoices (billing documents) that were cancelled",
        "signalFragment": "(\nSUM(\"BillingDoc_TotalCancelled\")\n/\nSUM(\"BillingDoc_TotalCount\")\n)\n * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_ar_documents",
        "name": "Number of accounts receivable documents",
        "description": "Number of accounts receivable documents that were created",
        "signalFragment": "SUM(\"AR_CountDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_ar_documents_paid_late",
        "name": "Number of accounts receivable documents paid late",
        "description": "Number of accounts receivable documents that were cleared one or more days after their due dates",
        "signalFragment": "SUM(\"AR_PaidLateCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_billing_requests",
        "name": "Number of billing requests (DMR)",
        "description": "Number of billing requests (debit memo requests)",
        "signalFragment": "SUM(\"BillingRequest_TotalCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_cleared_ar_items",
        "name": "Number of cleared accounts receivable documents",
        "description": "Number of accounts receivable documents that were fully cleared",
        "signalFragment": "SUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_invoices_cancelled",
        "name": "Number of invoices cancelled",
        "description": "Number of invoices (billing documents) that were cancelled",
        "signalFragment": "SUM(\"BillingDoc_TotalCancelled\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_invoices_created",
        "name": "Number of invoices created",
        "description": "Number of invoices (billing documents) that were created",
        "signalFragment": "SUM(\"BillingDoc_TotalCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_open_ar_docs",
        "name": "Number of open accounts receivable documents",
        "description": "Number of accounts receivable documents that are not yet cleared",
        "signalFragment": "SUM(\"AR_CountOpenDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_open_ar_docs_timeframe",
        "name": "Number of open accounts receivable documents (with time frame)",
        "description": "Number of accounts receivable documents open for longer than a certain time frame",
        "signalFragment": "COUNT(DISTINCT \"ARUniqueKey\") FILTER (\n\tWHERE\n\t\tevent_name = 'Create Accounts Receivable'\n\t\t AND \"ClearingDate\" IS NULL\n\t\t AND (NOW()-\"DocumentDate\") > DURATION ${i2c_s4hc_open_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_overdue_ar_docs_timeframe",
        "name": "Number of overdue accounts receivable documents (with time frame)",
        "description": "Number of all accounts receivable documents that are overdue for longer than a certain time frame",
        "signalFragment": "COUNT(DISTINCT \"ARUniqueKey\") FILTER (\n\tWHERE event_name = 'Create Accounts Receivable'\n\t AND \"ClearingDate\" IS NULL\n\t AND (NOW()-\"NetDueDate\") > DURATION ${i2c_s4hc_overdue_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_number_of_rejected_billing_requests",
        "name": "Number of rejected billing requests (DMR)",
        "description": "Number of rejected billing requests (debit memo requests)",
        "signalFragment": "SUM(\"BillingRequest_RejectedCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_cleared_amount",
        "name": "Total cleared amount",
        "description": "Total of all cleared amounts in accounts receivable documents",
        "signalFragment": "SUM(${i2c_s4hc_cleared_sum_currency}) * (-1)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_invoiced_amount",
        "name": "Total invoiced amount",
        "description": "Total of all invoiced amounts in accounts receivable documents",
        "signalFragment": "SUM(${i2c_s4hc_invoiced_sum_currency})",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_open_amount",
        "name": "Total open amount",
        "description": "Total of all open amounts in accounts receivable documents",
        "signalFragment": "SUM(${i2c_s4hc_invoiced_sum_currency} + ${i2c_s4hc_cleared_sum_currency})",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_overdue_amount",
        "name": "Total overdue amount (with time frame)",
        "description": "Total of all amounts in accounts receivable documents that are overdue for longer than a certain time frame",
        "signalFragment": "SUM(${i2c_s4hc_amount_currency}) FILTER (\n\tWHERE event_name = 'Create Accounts Receivable'\n\t AND \"ClearingDate\" IS NULL\n\t AND (NOW()-\"NetDueDate\") > DURATION ${i2c_s4hc_overdue_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2c_sap_s4hc_total_paid_late_amount",
        "name": "Total paid late amount",
        "description": "Total of all amounts in accounts receivable documents that were cleared one or more days after their due dates",
        "signalFragment": "SUM(${i2c_s4hc_amount_currency}) FILTER (\n\tWHERE event_name = 'Clear Accounts Receivable'\n\t AND (\"ClearingDate\" - \"NetDueDate\") > DURATION ${i2c_s4hc_overdue_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "INVOICE_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_total_overdue_invoice_amount",
        "name": "Total overdue invoice amounts",
        "description": "Sum of all invoice amounts that are open and overdue (converted to USD)",
        "signalFragment": "SUM(${itp_amount_conv}) FILTER(\n\t WHERE (${itp_clearing_date} IS NULL)\n\t\tAND ${itp_due_date} < DATE_TRUNC('day', NOW()))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_open_overdue_invoices",
        "name": "Number of open overdue invoices",
        "description": "Number of invoices that are currently open and overdue",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date} IS NULL)\n\t\tAND ${itp_due_date} < DATE_TRUNC('day', NOW()))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_overdue_ratio",
        "name": "Ratio of overdue invoices",
        "description": "Percentage of overdue invoices from all open invoices",
        "signalFragment": "COUNT (case_id) FILTER (\n\tWHERE (${itp_clearing_date} IS NULL AND ${itp_due_date} < DATE_TRUNC('day', NOW()))\n\t)\n/ COUNT (case_id) FILTER(\n\tWHERE (${itp_clearing_date} IS NULL)) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_dpo",
        "name": "Days Payables Outstanding",
        "description": "Days Payables Outstanding - Average time from invoice posting to invoice clearing within a reference period",
        "signalFragment": "AVG(\n\t(SELECT LAST(${itp_clearing_date}) \n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${itp_invoice_clearing_period}))\n\t-(SELECT LAST(${itp_posting_date})\n\t\tWHERE ((NOW() - LAST(end_time)) < DURATION ${itp_invoice_posting_period})))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_automation_rate_inv_clearing",
        "name": "Automation rate for invoice clearing",
        "description": "Percentage of automated invoice clearing events. For example 'Clear Invoice' events that are not performed by a Dialog user",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${itp_clear_invoice_events})\n\t\t\tAND (${itp_automation_condition})))\n\t)\n)\n/ SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\tWHERE (event_name IN (${itp_clear_invoice_events})))\n\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of invoices that were cleared more than 1 day after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date} - ${itp_due_date} \n\t\t> DURATION ${itp_late_payment_condition})\n)\n/COUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date} IS NOT NULL)\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_early_payment_rate",
        "name": "Early payment rate",
        "description": "Percentage of invoices that were cleared more than 5 days before their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_due_date} - ${itp_clearing_date} \n\t\t> DURATION ${itp_early_payment_condition})\n)\n/COUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date} IS NOT NULL)\n)* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_on_time_payment_rate",
        "name": "On-time payment rate",
        "description": "Percentage of invoices that were cleared less than 5 days before and no later than 1 day after their due dates",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date} - ${itp_due_date} \n\t\t< DURATION ${itp_late_payment_condition}\n\tAND ${itp_due_date} - ${itp_clearing_date}\n\t\t< DURATION ${itp_early_payment_condition}\n\t)\n)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${itp_clearing_date}IS NOT NULL)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_reversed_invoices",
        "name": "Percentage of reversed invoices",
        "description": "Percentage of invoices that were reversed counted for example by the number of 'Reverse Invoice' events",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itp_invoice_reversal_events}))\n/\nCOUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_avg_gr_creation_posting_invoice",
        "name": "Average time of goods receipt to invoice posting",
        "description": "Average time from receipt of goods to invoice posting",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) \n\tWHERE event_name IN (${itp_invoice_posting_events})) \n\t-\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN (${itp_goods_receipt_events})))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_dunning_rate",
        "name": "Dunning rate",
        "description": "Percentage of invoices that were dunned",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_dunning_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_duration_of_payment_blocks",
        "name": "Duration of payment blocks",
        "description": "Average lead time from setting a payment block to removing the last one",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER \n\t\t(WHERE event_name IN (${itp_remove_payment_block_events})))\n\t-\n\t(SELECT FIRST(end_time) FILTER\n\t\t(WHERE event_name IN (${itp_set_payment_block_events}))))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_no_touch_invoice",
        "name": "No-Touch invoice processing rate",
        "description": "Percentage of cleared invoices where no change events occured",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES ((${itp_no_touch_condition}))) \n\t\tAND (event_name MATCHES(${itp_clear_invoice_events}))\n)\n/ (COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itp_clear_invoice_events}))\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_invoices_without_purchase_order",
        "name": "Invoices without po",
        "description": "Invoices without purchase order",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(NOT ${itp_po_creation_to_invoice_posting})\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_baseline_date_changes",
        "name": "Percentage of baseline date changes",
        "description": "Percentage of Baseline Date Changes after the Invoice was posted",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itp_change_baseline_date})\n\t\tAND event_name MATCHES(${itp_posting_to_baseline_change_events}))\n/\nCOUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_missed_cash_discounts",
        "name": "Missed cash discounts",
        "description": "Amount of cash discounts missed due to late payments",
        "signalFragment": "SUM(\n\t(${itp_amount_conv} * ${itp_discount_percentage})\n\t-${itp_discount_applied_to_invoice}\n\t)\nFILTER(\n\tWHERE EVENT_NAME MATCHES (${itp_cd_1_missed})\n\t\tOR EVENT_NAME MATCHES (${itp_cd_2_missed})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_two_way_match_rate",
        "name": "Two-way match rate",
        "description": "Percentage of cases where the invoice amount equals the purchase order net order value",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_two_way_match_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_invoices_without_gr",
        "name": "Invoices without goods receipts",
        "description": "Total number of invoices without goods receipts",
        "signalFragment": "COUNT(case_id)\n\tFILTER (WHERE NOT EVENT_NAME  MATCHES (${itp_goods_receipt_events})\n\t\tAND EVENT_NAME  MATCHES (${itp_invoice_posting_events}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_payment_block_rate",
        "name": "Payment block rate",
        "description": "Percentage of all invoices where a payment block was set",
        "signalFragment": "COUNT(case_id)\n\tFILTER (WHERE event_name MATCHES (${itp_set_payment_block_events}))\n/ COUNT(case_id) \n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_parked_invoices",
        "name": "Parked invoices",
        "description": "Invoices that have been parked before being posted",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE event_name MATCHES(${itp_parked_invoices}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_manual_invoice_posting",
        "name": "Manual invoice posting",
        "description": "Invoices that have been posted manually, for example by a dialog user",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${itp_invoice_posting_events})\n\t\t\tAND (${itp_manual_condition})))))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_currently_blocked_invoices",
        "name": "Currently blocked invoices",
        "description": "Invoices that are currently blocked from being paid",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${itp_set_payment_block_events})\n\t\tAND NOT event_name MATCHES(${itp_remove_payment_block_events})\n\t\tAND NOT event_name MATCHES(${itp_clear_invoice_events}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_payment_terms_differences",
        "name": "Payment Terms Differences",
        "description": "Number of invoices for which the payment terms on the invoice differ from the payment terms on the purchase order",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (${itp_invoice_payment_terms}) \n\t\t<> (CASE WHEN ${itp_purchase_order_payment_terms} IS NULL THEN 0 \n\tELSE ${itp_purchase_order_payment_terms} END))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_price_inconsistency_invoice_and_purchase_order",
        "name": "Price difference on the invoice compared to the purchase order",
        "description": "Number of invoices with different prices compared to the purchase order",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${itp_different_price_condition}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_automation_remove_payment_block",
        "name": "Automatic payment block removal",
        "description": "Number of invoices where payment blocks where removed by non-dialog users",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${itp_remove_payment_block_events}))\n\t\tAND NOT (${itp_automatic_condition_nested}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_purchase_orders_created_after_invoice_receipt",
        "name": "Late purchase order creation",
        "description": "Total number of invoices where the purchase order item was created after the invoice creation",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (event_name MATCHES(\n(${itp_incompliant_activity_order}))))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_immediate_payment",
        "name": "Invoices with immediate payment terms",
        "description": "Number of invoices where the payment terms (BSEG.ZBD1T) are 0 or NULL",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE ${itp_cash_discount_terms} IS NULL\n\t\tOR ${itp_cash_discount_terms} = 0)",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_i2p_sap_erp_lost_cd_on_early_payment",
        "name": "Lost cash discount despite in-time payment",
        "description": "Amount of lost cash discounts in USD even though the invoice was paid in time for cash discount collection",
        "signalFragment": "SUM(\n\t(${itp_amount_conv} * ${itp_discount_percentage})\n\t-${itp_discount_applied_to_invoice}\n\t)\nFILTER(\n\tWHERE EVENT_NAME MATCHES (${itp_cd_in_time}))",
        "aggregationType": "CASE",
        "processTypes": [
          "INVOICE_TO_PAY"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_automation_rate_inv_clearing_vim",
        "name": "Automation rate for invoice clearing",
        "description": "Percentage of automated invoice clearing events. For example 'Clear Invoice' events that are not performed by a Dialog user",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${itp_clear_invoice_events_vim})\n\t\t\tAND (${itp_automation_condition_vim})))\n\t)\n)\n/ SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\tWHERE (event_name IN (${itp_clear_invoice_events_vim})))\n\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_manual_invoice_posting_vim",
        "name": "Manual invoice posting",
        "description": "Invoices that have been posted manually, for example by a dialog user",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE (event_name IN (${itp_invoice_posting_events_vim})\n\t\t\tAND (${itp_manual_condition_vim})))))",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_missing_data_rate_per_doc",
        "name": "Missing Data Rate per Document",
        "description": "Percentage of VIM documents with missing data, for example missing mandatory information, company codes, etc.",
        "signalFragment": "COUNT(DISTINCT \"VIM Document ID\") FILTER (WHERE\n\t\"VIM Missing Mandatory Information\" = 1 OR\n\t\"VIM Missing Company Code\" = 1 OR\n    \"VIM Missing Gross Amount\" = 1 OR\n    \"VIM Missing Date of Supply\" = 1 OR\n    \"VIM Missing Invoice Date\" = 1\n   )\n/COUNT(DISTINCT \"VIM Document ID\") *100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_invalid_data_rate_per_doc",
        "name": "Invalid Data Rate per Document",
        "description": "Percentage of VIM documents with invaid data, for example invalid requisitioner, invalid vendor, etc.",
        "signalFragment": "COUNT(DISTINCT \"VIM Document ID\") FILTER (WHERE\n\t\"VIM Invalid Currency\" = 1 OR\n\t\"VIM Invalid Requisitioner\" = 1 OR\n\t\"VIM Invalid Vendor\" = 1 OR\n\t\"VIM Invalid Vendor VAT Number\" = 1 OR\n\t\"VIM Invalid Tax Info\" = 1 OR\n\t\"VIM Invalid PO ID\" = 1 OR\n\t\"VIM Invalid Requester ID\" = 1 OR\n\t\"VIM Invalid Recipient VAT Number\" = 1\n   )\n/COUNT(DISTINCT \"VIM Document ID\") *100",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_percentage_sent_back_to_ap",
        "name": "Percentage of document being sent back to AP",
        "description": "Percentage of documents that are sent back to AP because of errors",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES('Send Invoice Back to AP'))\n/\nCOUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_suspected_duplicate_rate_per_doc",
        "name": "Suspected Duplicate Rate per Document",
        "description": "Percentage of suspected duplicates per document",
        "signalFragment": "COUNT(DISTINCT \"VIM Document ID\") FILTER (WHERE\n\t\"VIM Suspected Duplicate\" = 1\n   )\n/COUNT(DISTINCT \"VIM Document ID\") *100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "fin_vim_opentext_vim_avg_validation_time",
        "name": "Average Validation Time",
        "description": "Average time of Send for Validation to Validation Complete",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN ('Validation Complete')) \n\t-\n\t(SELECT FIRST(end_time) \n    WHERE event_name IN ('Send for Validation'))\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "VENDOR_INVOICE_MANAGEMENT"
        ],
        "sourceSystems": [
          "SAP_OPENTEXT"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_total_incident_number",
        "name": "Total number of created incidents",
        "description": "Total number of created incidents",
        "signalFragment": "COUNT(case_id)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_open_incident_number",
        "name": "Total number of open incidents",
        "description": "Total number of open incidents",
        "signalFragment": "COUNT(case_id) FILTER (WHERE \n\t(SELECT BOOL_AND(\n NOT event_name IN (${incident_closure_events})))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_resolved_incident_number",
        "name": "Total number of resolved incidents",
        "description": "Total number of resolved incidents",
        "signalFragment": "COUNT(case_id) FILTER (WHERE \n\t(SELECT BOOL_OR(\n event_name IN (${incident_closure_events})))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_avg_response_time",
        "name": "Average response time",
        "description": "Average time from incident creation to first response",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${response_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${incident_creation_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_avg_resolution_time",
        "name": "Average resolution time",
        "description": "Average time from incident creation to its resolution",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${resolution_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${incident_creation_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_first_call_resolution_rate",
        "name": "First call resolution rate",
        "description": "Percentage of incidents that are resolved without any rework. Rework is defined here as any case that contains the same event name more than once.",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (SELECT COUNT(DISTINCT event_name)) = (SELECT COUNT(event_name))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_itr_sla_breach_ratio",
        "name": "SLA breach ratio",
        "description": "Percentage of cases that have breached the SLAs",
        "signalFragment": "COUNT(case_id) FILTER (WHERE \n\t (SELECT BOOL_OR(\n event_name IN (${itr_sla_breach_events})))\n)/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_avg_ticket_reassignment_rate",
        "name": "Average ticket reassignment rate",
        "description": "Average number of reassignments per case",
        "signalFragment": "(SUM(${incident_reassignments})\n/ COUNT(case_id))",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_avg_rework_rate",
        "name": "Average rework rate",
        "description": "Percentage of cases with rework",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (${rework_condition}))\n/ COUNT(case_id))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_servicenow_high_priority_incident_ratio",
        "name": "High priority incident ratio",
        "description": "Percentage of cases with high priority",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (${high_priority})) \n/ COUNT(case_id))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INCIDENT_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_avg_closing_time",
        "name": "Average Issue Closing Time",
        "description": "Average time from issue creation to its closing",
        "signalFragment": "AVG(\n\tIF (${jsm_issue_change_condition},\n\t\t(SELECT LAST(end_time) WHERE event_name IN (${jsm_system_change_closing_events}))\n\t\t-(${jsm_issue_create_date}),\n\t\t(SELECT LAST(end_time) WHERE event_name IN (${jsm_issue_closing_events}))\n\t\t-(${jsm_issue_create_date}))\n\t)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_avg_csat",
        "name": "Average Customer Satisfaction Score (CSAT)",
        "description": "Average Customer Satisfaction Score",
        "signalFragment": "AVG(\"Satisfaction\")",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_avg_resolution_time",
        "name": "Average Resolution Time",
        "description": "Average time from issue creation to its resolution",
        "signalFragment": "AVG(${jsm_issue_resolution_date} - ${jsm_issue_create_date}) FILTER (WHERE ${jsm_resolution_condition})\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_avg_response_time",
        "name": "Average Response Time",
        "description": "Average time from issue creation to its first response",
        "signalFragment": "AVG(${jsm_first_response_date} - ${jsm_issue_create_date})\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_issue_reassignments_ratio",
        "name": "Issue Reassignment Rate",
        "description": "Ratio of issue reassignments per case",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (event_name = ${jsm_issue_assignment_events})) > 1\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_issue_assignment_ratio",
        "name": "Assignment Ratio",
        "description": "Percentage of cases containing at least one assignment event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name) \n\t\t\tWHERE (event_name = ${jsm_issue_assignment_events})) >0)\n/\nCOUNT (case_id)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_change_priority_ratio",
        "name": "Change Priority Ratio",
        "description": "Percentage of cases with priority change",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name) \n\t\t\tWHERE (event_name = ${jsm_change_priority_events})) > 0) \n/\nCOUNT (case_id)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_changes_ratio",
        "name": "Issue Change Ratio",
        "description": "Percentage of cases with changes.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name) \n\t\t\tWHERE (event_name = ${jsm_change_events})) > 0)\n/\nCOUNT(case_id)\n*100\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_first_call_resolution_ratio",
        "name": "First call resolution ratio",
        "description": "Percentage of incidents that are resolved without any rework. Rework is defined as any case that contains the same event name more than once.",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (SELECT COUNT(DISTINCT event_name)) = (SELECT COUNT(event_name))\n\t)\n/ COUNT(case_id)\n*100\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_high_priority_issue_ratio",
        "name": "High Priority Issue Ratio",
        "description": "Percentage of cases with high priority",
        "signalFragment": "COUNT(case_id) FILTER ( \nWHERE ${jsm_high_priority_condition})\n/\nCOUNT(case_id)\n*100\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_closed_issues",
        "name": "Total Number of Closed Issues",
        "description": "Total number of closed issues",
        "signalFragment": "COUNT(case_id) FILTER ( WHERE ${jsm_close_condition})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_breached_sla_issue_ratio",
        "name": "Breached SLA Issue Ratio",
        "description": "Ratio of the started SLA's that eventually breached",
        "signalFragment": "SUM(${jsm_sla_breached})/SUM(${jsm_sla_started})*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_breached_slas",
        "name": "Total Number of Breached SLA's",
        "description": "Total number of breached SLA's",
        "signalFragment": "SUM(${jsm_sla_breached})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_clompleted_slas",
        "name": "Total Number of Completed SLA's",
        "description": "Total number of completed SLA's",
        "signalFragment": "SUM(\"SLAs Completed\")",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_created_issues",
        "name": "Total Number of Created Issues",
        "description": "Total number of created issues",
        "signalFragment": "COUNT(case_id)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_ongoing_slas",
        "name": "Total Number of Ongoing SLA's",
        "description": "Total number of ongoing SLA's",
        "signalFragment": "SUM(\"SLAs Ongoing\")",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_open_issues",
        "name": "Total Number of Open Issues",
        "description": "Total number of open issues",
        "signalFragment": "COUNT(case_id) FILTER ( WHERE ${jsm_open_condition})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_paused_slas",
        "name": "Total Number of Paused SLA's",
        "description": "Total Number of paused SLA's",
        "signalFragment": "SUM(\"SLAs Paused\" )",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_resolved_issues",
        "name": "Total Number of Resolved Issues",
        "description": "Total number of resolved issues",
        "signalFragment": "COUNT(case_id) FILTER ( WHERE ${jsm_resolution_condition})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_i2r_jira_total_nr_sla_started",
        "name": "Total Number of started SLA's",
        "description": "Total Number of started SLA's",
        "signalFragment": "SUM(${jsm_sla_started})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "JIRA"
        ],
        "processTypes": [
          "ISSUE_TO_RESOLUTION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_opp_expected_revenue_amount",
        "name": "Total amount of opportunity expected revenue",
        "description": "Total amount of the expected revenue considering all opportunities",
        "signalFragment": "SUM(${lto_sapsalescloud_opportunity_expected_revenue})\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_opp_lost_expected_revenue_amount",
        "name": "Total amount of opportunity expected revenue lost",
        "description": "Total amount of the expected revenue considering only opportunity lost",
        "signalFragment": "SUM(${lto_sapsalescloud_opportunity_expected_revenue}) FILTER (\n\tWHERE ${lto_sapsalescloud_opp_lost_condition})\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_opp_won_expected_revenue_amount",
        "name": "Total amount of opportunity expected revenue won",
        "description": "Total amount of the expected revenue considering only opportunity won",
        "signalFragment": "SUM(${lto_sapsalescloud_opportunity_expected_revenue}) FILTER (\n\tWHERE ${lto_sapsalescloud_opp_won_condition})\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_lead_conversion_rate",
        "name": "Lead Conversion Rate",
        "description": "Percentage of converted lead: ((number of leads converted to opportunities) / (number of leads processed)) X 100",
        "signalFragment": "COUNT(case_id)\nFILTER(WHERE event_name MATCHES (${lto_sapsalescloud_lead_converted_events}))/count(case_id) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_opp_lost_time",
        "name": "Average opportunity lost time",
        "description": "Average time from creating the opportunity to loosing the opportunity",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_opp_lost_events})) \n\t-\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_opp_created_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_lead_response_time",
        "name": "Average lead response time",
        "description": "Average time from lead creation to working on lead",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER (\n\t\tWHERE NOT event_name IN (${lto_sapsalescloud_lead_created_events})))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE event_name IN (${lto_sapsalescloud_lead_created_events})))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_won_opp",
        "name": "Total number of won opportunities",
        "description": "Total number of won opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${lto_sapsalescloud_opp_won_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_opp_wo_lead",
        "name": "Opportunities without lead",
        "description": "Total number of opportunities without lead",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${lto_sapsalescloud_lead_identifier} IS NULL\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_open_opp",
        "name": "Total number of open opportunities",
        "description": "Total number of currently open opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_AND( NOT event_name IN (${lto_sapsalescloud_close_opp_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_lead_converted_w_qualification",
        "name": "Leads Converted with Qualification",
        "description": "Number of leads converted with qualification",
        "signalFragment": "count(case_id)\nfilter(WHERE event_name MATCHES(${lto_sapsalescloud_lead_convert_qualified_events}))",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_closed_opp",
        "name": "Total number of closed opportunities",
        "description": "Total number of currently closed opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${lto_sapsalescloud_close_opp_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_win_loss_ratio",
        "name": "Win/loss ratio",
        "description": "Ratio of won to lost opportunities. A value > 1 indicates that there are more opportunities won than lost.",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (${lto_sapsalescloud_opp_won_condition}))\n)\n/\n(COUNT(case_id) FILTER (\n\tWHERE (${lto_sapsalescloud_opp_lost_condition}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_lead_conversion_time",
        "name": "Average lead conversion time",
        "description": "Average time from lead creation to lead conversion",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_lead_converted_events})) \n\t-\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_lead_created_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_opp_won_time",
        "name": "Average opportunity win time",
        "description": "Average time from creating the opportunity to winning the opportunity",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_opp_won_events})) \n\t-\n\t(SELECT FIRST(end_time) \n\tWHERE event_name IN (${lto_sapsalescloud_opp_created_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_lead_converted_wo_qualification",
        "name": "Leads Converted without Qualification",
        "description": "Number of leads converted without qualification",
        "signalFragment": "count(case_id)\nfilter(WHERE event_name MATCHES(${lto_sapsalescloud_lead_converted_events}))\n-\ncount(case_id)\nfilter(WHERE event_name MATCHES(${lto_sapsalescloud_lead_convert_qualified_events}))",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_qualified_lead",
        "name": "Total number of qualified leads",
        "description": "Total number of qualified leads",
        "signalFragment": "COUNT(CASE_ID) FILTER (\n\tWHERE EVENT_NAME MATCHES (${lto_sapsalescloud_lead_qualified_events}))\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_lead_converted",
        "name": "Total of leads converted",
        "description": "Total of leads converted",
        "signalFragment": "COUNT (CASE_ID) FILTER (WHERE EVENT_NAME MATCHES (${lto_sapsalescloud_lead_converted_events}))\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_no_touch_opp",
        "name": "No-touch Opportunity",
        "description": "Percentage of opportunities without interactions",
        "signalFragment": "COUNT (\"case_id\") FILTER (\n\tWHERE ${lto_sapsalescloud_attr_number_tasks} = 0\n      AND ${lto_sapsalescloud_attr_number_appointments} = 0\n      AND ${lto_sapsalescloud_attr_number_emails} = 0\n      AND ${lto_sapsalescloud_attr_number_phone_calls} = 0\n      AND ${lto_sapsalescloud_attr_number_visits} = 0\n      )\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_win_ratio",
        "name": "Win ratio",
        "description": "Percentage of won to all the opportunities in the sales cloud system",
        "signalFragment": "((COUNT(case_id) FILTER (\n\tWHERE (${lto_sapsalescloud_opp_won_condition}))\n)\n/\n(COUNT(case_id))*100\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_no_touch_opp_won",
        "name": "No-touch Won Opportunity",
        "description": "Total number of won opportunities without interactions",
        "signalFragment": "COUNT (\"case_id\") FILTER (\n\tWHERE ${lto_sapsalescloud_opp_won_condition}\n      AND ${lto_sapsalescloud_attr_number_visits} = 0\n      )\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_opp_w_lead",
        "name": "Opportunity with leads",
        "description": "Number of opportunities created as a follow-up of the lead process",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${lto_sapsalescloud_lead_identifier} IS NOT NULL\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_touchpoint_per_opp",
        "name": "Average number of touchpoints per opportunity",
        "description": "Average number of touchpoints, for example appointments, email, phone calls and task per opportunities",
        "signalFragment": "AVG(${lto_sapsalescloud_attr_number_tasks} +\n    ${lto_sapsalescloud_attr_number_appointments} +\n    ${lto_sapsalescloud_attr_number_emails} +\n    ${lto_sapsalescloud_attr_number_phone_calls} +\n    ${lto_sapsalescloud_attr_number_visits})\n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_employee_change_opp",
        "name": "Average number of employee changes per opportunity",
        "description": "Average number of employee changes per opportunity",
        "signalFragment": "AVG(${lto_sapsalescloud_attr_number_employee_changes}) \n",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_total_nr_lead_declined",
        "name": "Total of leads declined",
        "description": "Total of leads declined or rejected",
        "signalFragment": "COUNT (CASE_ID) FILTER (WHERE EVENT_NAME MATCHES (${lto_sapsalescloud_lead_declined_events}))",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_l2o_sap_salescloud_avg_contacts_person_opp",
        "name": "Average number of contact persons per opportunity",
        "description": "Average number of contact persons per opportunity",
        "signalFragment": "AVG(${lto_sapsalescloud_attr_number_contacted_people})",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_conformance_level",
        "name": "Conformance level",
        "description": "Percentage of cases without conformance issues",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT event_name MATCHES ((${no_happy_path_events}))\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_customer_self_readings",
        "name": "Number of meter readings performed by customer",
        "description": "Number of meter readings performed by customer (self-reading)",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\tSELECT BOOL_OR(event_name IN (${obtain_readings_events})\n\t\tAND ${self_reading_condition}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_onsite_readings",
        "name": "Number of meter readings performed on-site",
        "description": "Number of meter readings performed on-site by utility",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\tSELECT BOOL_OR(event_name IN (${obtain_readings_events})\n\t\tAND ${utility_reading_condition}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "readings_after_invoicing",
        "name": "Number of meter reading data obtained after invoicing",
        "description": "Number of meter reading data obtained after invoicing period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${obtain_readings_events})))\n\t\tAND ${after_invoicing_condition}\n\t)\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_non_reachable_smart_meters",
        "name": "Number of non-reachable smart meters",
        "description": "Number of smart meter devices for which no data was transmitted for 10+ days",
        "signalFragment": "COUNT(case_id) FILTER (WHERE (\n\tSELECT LAST(end_time) FILTER (WHERE event_name IN (${obtain_readings_events}))\n\t-\n\tFIRST(end_time) FILTER (WHERE event_name IN (${create_reading_orders_events}))\n\t) > DURATION ${non_reachable_smart_meters_period}\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_missing_meter_readings",
        "name": "Number of missing meter readings",
        "description": "Number of meter readings for which the scheduled reading date is passed, but no data was obtained",
        "signalFragment": "COUNT (case_id) FILTER (\n\t\tWHERE ${overdue_reading_date_condition}\n\t\tAND (SELECT BOOL_AND(NOT event_name IN (${obtain_readings_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_ratio_timely_late_readings",
        "name": "Ratio between timely and late meter readings",
        "description": "Ratio between timely and late meter readings",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${obtain_readings_events})))\n\t\tAND ${timely_meter_reading_condition})\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${obtain_readings_events})))\n\t\tAND ${late_meter_reading_condition})\n\t)\n)*100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_timely_readings_percent",
        "name": "Percentage of timely meter readings",
        "description": "Percentage of total meter readings completed on-time",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${obtain_readings_events})))\n\t\tAND ${timely_meter_reading_condition})\n\t)\n/\nCOUNT(case_id) *100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_late_readings_percent",
        "name": "Percentage of late meter readings",
        "description": "Percentage of total meter readings completed late",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${obtain_readings_events})))\n\t\tAND ${late_meter_reading_condition})\n\t)\n/\nCOUNT(case_id) *100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_manual_changes_meter_readings",
        "name": "Number of manual changes to meter readings",
        "description": "Number of manual changes on the obtained meter reading data",
        "signalFragment": "COUNT(case_id) FILTER (\n\t\tWHERE (SELECT BOOL_OR(event_name IN (${change_readings_events}))\n\t\tAND BOOL_OR(${mtc_manual_changes_condition}))\n\t\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_meter_readings_invoice_cancellation",
        "name": "Percentage of meter readings with cancellations of invoice or billing",
        "description": "Percentage of meter readings with cancellations of invoice or billing",
        "signalFragment": "COUNT(case_id) FILTER (\n\t\tWHERE (SELECT BOOL_OR(event_name IN (${invoice_billing_cancellation_events})))\n\t\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_nr_meter_orders_dunning",
        "name": "Number of meter reading orders that resulted in a dunning notice",
        "description": "Number of meter reading orders that resulted in a dunning notice",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${order_dunning_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_percentage_meter_orders_dunning",
        "name": "Percentage of meter reading orders that resulted in a dunning notice",
        "description": "Percentage of meter reading orders that resulted in a dunning notice",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${order_dunning_condition})\n\t)\n/ COUNT(case_id)*100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_nr_meter_orders_paid_after_dunning",
        "name": "Number of meter reading orders that were paid after dunning notice",
        "description": "Number of meter reading orders that were paid after dunning notice",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${order_paid_after_dunning_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_percentage_meter_orders_paid_after_dunning",
        "name": "Percentage of meter reading orders that were paid after dunning notice",
        "description": "Percentage of meter reading orders that were paid after dunning notice",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${order_paid_after_dunning_condition})\n\t)\n/ COUNT(case_id)*100",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_avg_time_create_order_obtain_data",
        "name": "Average time from 'Create Meter Reading Order' to 'Obtain Meter Reading Data'",
        "description": "Average time from meter reading order creation to meter reading data obtained",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${obtain_readings_events}))\n\t-(SELECT FIRST(end_time)\n\tWHERE event_name IN (${create_reading_orders_events}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_value_open_invoices",
        "name": "Value of open invoices",
        "description": "Value of currently open invoices which were not yet paid",
        "signalFragment": "SUM(\"LastInvoiceAmount\")\n-\n(SUM(\"LastInvoiceAmount\") FILTER (\n\t\tWHERE (SELECT BOOL_OR(event_name IN (${receive_payment_events})\n\t\tAND NOT event_name IN (${invoice_billing_cancellation_events})))\n\t))",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_m2c_sap_erp_utilities_volume_overdue_invoices",
        "name": "Volume of overdue invoices",
        "description": "Volume of currently open invoices which were not yet paid and are overdue",
        "signalFragment": "COUNT(case_id) FILTER (\n\t\tWHERE ${overdue_invoice_condition}\n\t\tAND (SELECT BOOL_AND(NOT event_name IN (${receive_payment_events}, ${invoice_billing_cancellation_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "METER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_total_nr_open_opp",
        "name": "Total number of open opportunities",
        "description": "Total number of currently open opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_AND( NOT event_name IN (${lto_sf_close_opp_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_total_nr_closed_opp",
        "name": "Total number of closed opportunities",
        "description": "Total number of currently closed opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_close_opp_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_total_nr_won_opp",
        "name": "Total number of won opportunities",
        "description": "Total number of won opportunities",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${lto_sf_opp_won_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_win_ratio",
        "name": "Win/loss ratio",
        "description": "Ratio of won to lost opportunities. A value > 1 indicates that there are more opportunities won than lost.",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (${lto_sf_opp_won_condition}))\n)\n/\n(COUNT(case_id) FILTER (\n\tWHERE (${lto_sf_opp_lost_condition}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_lead_conversion_time",
        "name": "Average lead conversion time",
        "description": "Average time from lead creation to lead conversion",
        "signalFragment": "AVG(\n\t${lto_sf_lead_converted_date} - ${lto_sf_lead_created_date}\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_lead_response_time",
        "name": "Average lead response time",
        "description": "Average time from lead creation to working on lead",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER (\n\t\tWHERE NOT event_name IN (${lto_sf_lead_created_events})))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE event_name IN (${lto_sf_lead_created_events})))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_opp_won_time",
        "name": "Average opportunity win time",
        "description": "Average time from creating the opportunity to winning the opportunity",
        "signalFragment": "AVG(${lto_sf_opp_closed_date} - ${lto_sf_opp_created_date}) FILTER (\n\tWHERE (${lto_sf_opp_won_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_opp_lost_time",
        "name": "Average opportunity lost time",
        "description": "Average time from creating the opportunity to loosing the opportunity",
        "signalFragment": "AVG(${lto_sf_opp_closed_date} - ${lto_sf_opp_created_date}) FILTER (\n\tWHERE (${lto_sf_opp_lost_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_opp_wo_lead",
        "name": "Opportunities without lead",
        "description": "Total number of opportunities without lead",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${lto_sf_lead_identifier} IS NULL\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_touchpoints",
        "name": "Average touchpoints per case",
        "description": "Average number of touchpoints per case",
        "signalFragment": "AVG((SELECT COUNT(event_name) FILTER (\n\tWHERE event_name IN (${lto_sf_touchpoint_events})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_no_touch_leads",
        "name": "No-touch leads",
        "description": "Percentage of leads without interactions",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \n\t\t(SELECT \n\t\t\tBOOL_AND( NOT event_name IN (${lto_sf_touchpoint_events})) \n\t\t\tAND BOOL_OR( event_name IN (${lto_sf_lead_created_events})) \n\t\t)\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_low_touch_conversions",
        "name": "Low-touch conversions",
        "description": "Number of converted leads with less interactions than specified",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \n\t\t(SELECT COUNT(event_name) FILTER \n\t\t\t(WHERE event_name IN (${lto_sf_touchpoint_events})) \n\t\t) < ${lto_sf_number_of_touchpoints}\n\t\tAND (SELECT BOOL_OR(event_name IN (${lto_sf_conversion_events})) \n\t\t) \n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE",
          "LEAD_TO_OPPORTUNITY"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_created_quotes",
        "name": "Number of created quotes",
        "description": "Number of created quotes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_quote_created})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_approved_quotes",
        "name": "Number of approved quotes",
        "description": "Number of approved quotes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_quote_approved})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_rejected_quotes",
        "name": "Number of rejected quotes",
        "description": "Number of rejected quotes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_quote_rejected})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_quote_to_close_ratio",
        "name": "Quote to close ratio",
        "description": "Fraction of quotes that end up as won opportunities.",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${lto_sf_quote_to_opp_condition}))\n/ COUNT(case_id))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_total_quote_volume",
        "name": "Total quote volume",
        "description": "Total financial volume of quotes provided to potential clients.",
        "signalFragment": "SUM(\"OppAmount\") FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_quote_created})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_om_salesforce_avg_quote_volume",
        "name": "Average quote volume",
        "description": "Average financial volume of quotes provided to potential clients.",
        "signalFragment": "AVG(\"OppAmount\") FILTER (\n\tWHERE (SELECT BOOL_OR( event_name IN (${lto_sf_quote_created})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "LEAD_TO_QUOTE"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_avg_sales_order_processing_time",
        "name": "Average processing time for sales orders",
        "description": "Average time from the creation of a sales order item to its complete processing",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${processing_completion_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${sales_order_item_creation_events}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_avg_invoice_payment_time",
        "name": "Average invoice payment time",
        "description": "Average number of days that it takes a company to collect payment after a sale",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${billing_clearing_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${billing_creation_events}))\n\t)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_return_rate",
        "name": "Return rate",
        "description": "Percentage of cases in which an item was returned",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR (event_name ILIKE ${return_order_events})\n\t))\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_on_time_delivery_rate",
        "name": "On-time delivery rate",
        "description": "Percentage of deliveries arriving at their destination before or on the expected date",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (${ontime_delivery_condition})) > 0\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${outbound_delivery_creation_events})))\n\t) \n* 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of cases where the invoice was cleared after its due date",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (${invoice_overdue_condition})) > 0\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${billing_clearing_events})))\n\t) \n* 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_no_payment_rate",
        "name": "No payment rate",
        "description": "Percentage of cases where the invoice is overdue and not cleared",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE ((${open_accounts_receivable_condition})\n\t\t\tAND (${no_payment_condition}))) > 0\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${billing_creation_events})))\n\t) \n* 100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_dunning_rate",
        "name": "Dunning rate",
        "description": "Percentage of cases where the invoice is dunned",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${dunning_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_avg_sales_doc_to_delivery_creation_time",
        "name": "Lead time: sales document item creation to delivery creation",
        "description": "Average lead time from the event 'Create Sales Order Item' to the event 'Create Outbound Delivery'",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${outbound_delivery_creation_events}) AND\n\t\t((NOW() - LAST(end_time)) < DURATION ${outbound_delivery_period})\n\t\t)\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${sales_order_item_creation_events})\n\t\t)\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_avg_invoice_creation_clearing_time",
        "name": "Lead time: invoice creation to accounts receivable clearing",
        "description": "Average lead time for items that were cleared within a reference period",
        "signalFragment": "AVG(\n\t(SELECT LAST(\"InvoiceAccountingClearingDate\") WHERE \n\t\t((NOW() - LAST(end_time)) < DURATION ${invoice_clearing_period}))\n\t-(SELECT FIRST(${invoice_reference_date})WHERE \n\t\t((NOW() - LAST(end_time)) < DURATION ${invoice_posting_period}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_rejected_sales_document_items",
        "name": "Rejected sales document items",
        "description": "Number of rejected sales order items that were created within a time period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${sales_order_item_creation_events})) \n\t\tAND ((NOW() - LAST(end_time)) < DURATION ${sales_order_item_creation_period})\n\t)\n\tAND (SELECT BOOL_OR(event_name = 'Reject Sales Doc Item')\n\t\tAND ((NOW() - LAST(end_time)) < DURATION ${rejected_orders_reference_period}))\n\t)\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_return_order_items_created",
        "name": "Return order items created",
        "description": "Number of return order items that were created within a time period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${sales_order_item_creation_events})) \n\t\tAND ((NOW() - LAST(end_time)) < DURATION ${sales_order_item_creation_period})\n\t)\n\tAND (SELECT BOOL_OR(event_name = 'Create Return Sales Order Item')\n\t\tAND ((NOW() - LAST(end_time)) < DURATION ${returned_orders_reference_period}))\n\t)\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_deleted_sales_document_items",
        "name": "Deleted sales document items",
        "description": "Number of deleted items in sales documents within a defined period of time",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\tSELECT BOOL_OR(event_name IN (${delete_sales_order_item_events}))\n\t\tAND NOW() - LAST(end_time) < DURATION ${sales_order_item_deletion_period}\n\t)\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_automation_rate_sales_doc_creation",
        "name": "Automation rate: sales document creation",
        "description": "Percentage of automated sales order creation events within a time period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n\t\t(SELECT BOOL_OR(event_name IN (${sales_order_doc_creation_events})\n\t\t AND (${otc_automation_condition}))\n\t\t AND ((NOW() - LAST(end_time)) < DURATION ${sales_order_doc_creation_period})) \n\t)\n) / SUM((SELECT COUNT(event_name)))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_overdue_open_ar_items",
        "name": "Overdue open Accounts Receivable items",
        "description": "Number of overdue open customer items",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (\"InvoiceAccountingClearingDate\" IS NULL\n\t\t AND \"InvoiceDueDate\" < DATE_TRUNC('day', NOW()))) > 0\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_avg_invoice_customer_process_time",
        "name": "Average invoice customer process time",
        "description": "Average time from the posting of goods issue to the creation of an invoice",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) WHERE event_name IN (${billing_creation_events}))\n\t-\n\t(SELECT FIRST(end_time) WHERE event_name IN (${shipping_events}))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_tot_nr_sales_orders",
        "name": "Total number of sales orders",
        "description": "Total amount of orders on header level",
        "signalFragment": "COUNT(DISTINCT SalesDocId) FILTER (\n\t WHERE (SELECT BOOL_OR(event_name IN (${sales_order_item_creation_events}))))",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_no_touch_order_rate",
        "name": "No-Touch-Order Rate",
        "description": "Percentage of perfect orders or no-touch orders, i.e. delivered on time, with the right amount and no other changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${processing_completion_events})\n\t\tAND ${ontime_delivery_condition}\n\t\tAND event_name NOT ILIKE ${otc_change_events})\n\t)\n)/COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_price_change_rate",
        "name": "Price Change Rate",
        "description": "Percentage of cases with SD Item price changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name ILIKE ${price_change_events})))\n/ COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${sales_order_item_creation_events}))))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_delivery_change_rate",
        "name": "Delivery Change Rate",
        "description": "Percentage of cases with SD Item delivery changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name ILIKE ${change_delivery_events})))\n/ COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${sales_order_item_creation_events}))))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_material_change_rate",
        "name": "Material Change Rate",
        "description": "Percentage of cases with SD Item material changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${change_material_events}))))\n/ COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${sales_order_item_creation_events}))))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_quantity_change_rate",
        "name": "Quantity change rate",
        "description": "Percentage of cases with SD Item quantity changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${change_quantity_events}))))\n/ COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${sales_order_item_creation_events}))))\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_quotation_item_creations",
        "name": "Number of manual quotation item creations",
        "description": "Number of quotation items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Create Quotation Item'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_quotation_item_creation_automation_rate",
        "name": "Quotation item creation automation rate",
        "description": "Percentage of quotation items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Create Quotation Item'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (event_name = 'Create Quotation Item'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_so_item_creations",
        "name": "Number of manual SO item creations",
        "description": "Number of sales order items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Create Sales Order Item'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_so_item_creation_automation_rate",
        "name": "SO item creation automation rate",
        "description": "Percentage of sales order items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Create Sales Order Item'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (event_name = 'Create Sales Order Item'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_contract_item_creations",
        "name": "Number of manual contract item creations",
        "description": "Number of contract items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Create Contract Item'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_contract_item_creation_automation_rate",
        "name": "Contract item creation automation rate",
        "description": "Percentage of contract items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Create Contract Item'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (event_name = 'Create Contract Item'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_pro_forma_invoice_creations",
        "name": "Number of manual pro forma invoice creations",
        "description": "Number of pro forma invoices that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Create Pro Forma Invoice'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_pro_forma_invoice_creation_automation_rate",
        "name": "Pro forma invoice creation automation rate",
        "description": "Percentage of pro forma invoices that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Create Pro Forma Invoice'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\t\tWHERE (event_name = 'Create Pro Forma Invoice'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_invoice_creations",
        "name": "Number of manual invoice creations",
        "description": "Number of invoices that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Create Invoice'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_invoice_creation_automation_rate",
        "name": "Invoice creation automation rate",
        "description": "Percentage of invoices that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Create Invoice'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"InvoiceId\") FILTER (\n\t\tWHERE (event_name = 'Create Invoice'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_invoice_clearings",
        "name": "Number of manual invoice clearings",
        "description": "Number of invoices that were cleared manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceClearingDocumentId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name = 'Clear Invoice'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_invoice_clearing_automation_rate",
        "name": "Invoice clearing automation rate",
        "description": "Percentage of invoices that were cleared using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"InvoiceClearingDocumentId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" IN ('System','Service')\n\t\tAND (event_name = 'Clear Invoice'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"InvoiceClearingDocumentId\") FILTER (\n\t\tWHERE (event_name = 'Clear Invoice'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_quotation_item_changes",
        "name": "Number of manual quotation item changes",
        "description": "Number of quotation items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name LIKE 'Change Quotation%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_quotation_item_changes_rate",
        "name": "Manual quotation item changes rate",
        "description": "Percentage of quotation items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Quotation%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Quotation%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_so_item_changes",
        "name": "Number of manual SO item changes",
        "description": "Number of sales order items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name LIKE 'Change Sales Doc Item%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_so_item_changes_rate",
        "name": "Manual SO item changes rate",
        "description": "Percentage of sales order items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Sales Doc Item%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Sales Doc Item%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_delivery_item_changes",
        "name": "Number of manual delivery item changes",
        "description": "Number of delivery items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name LIKE 'Change Delivery Item%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_delivery_item_changes_rate",
        "name": "Manual delivery item changes rate",
        "description": "Percentage of delivery items that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Delivery Item%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Delivery Item%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_invoice_changes",
        "name": "Number of manual invoice changes",
        "description": "Number of invoices that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\tAND (event_name LIKE 'Change Inv%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_o2c_sap_erp_manual_invoice_changes_rate",
        "name": "Manual invoice changes rate",
        "description": "Percentage of invoices that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (\"EventCreatedByUserType\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Inv%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"UniqueEventId\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Inv%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ORDER_TO_CASH"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_ar_creation_to_clearing_time",
        "name": "Average accounts receivable creation to clearing time",
        "description": "Average time from accounts receivable creation to clearing",
        "signalFragment": "SUM(\"AR_AVGClearingDays\" * \"AR_CountClearedDocuments\")\n/\nSUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_net_payment_terms",
        "name": "Average net payment terms",
        "description": "Average of net payment terms in days",
        "signalFragment": "SUM(\"AR_AVGNetDueDateDays\" * \"AR_CountDocuments\")\n/\nSUM(\"AR_CountDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_payment_delay",
        "name": "Average payment delay",
        "description": "Average delay of payments in days",
        "signalFragment": "SUM(\"AR_AVGClearingAfterNetDueDays\" * \"AR_CountClearedDocuments\")\n/\nSUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_project_creation_to_end_time",
        "name": "Average project creation to end time",
        "description": "Average time from project creation to project end date",
        "signalFragment": "AVG(\"Project_CreateToEndTime\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_project_creation_to_start_time",
        "name": "Average project creation to start time",
        "description": "Average time from project creation to project start date",
        "signalFragment": "AVG(\"Project_CreateToStartTime\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_project_planned_to_actual_end_time",
        "name": "Average project planned to actual end time",
        "description": "Average time from planned project end to actual project end date",
        "signalFragment": "AVG(\"Project_PlannedToActualClosingTime\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_project_start_to_end_time",
        "name": "Average project start to end time",
        "description": "Average time from project start to project end date",
        "signalFragment": "AVG(\"Project_StartToEndTime\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_avg_timesheet_approval_time",
        "name": "Average timesheet approval time",
        "description": "Average time from timesheet creation to timesheet approval",
        "signalFragment": "SUM(\"TSR_AVGCreationTillApprovalTime\" * \"TSR_Count\")\n/\nSUM(\"TSR_Count\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_billing_request_rejection_rate",
        "name": "Billing request (DMR) rejection rate",
        "description": "Percentage of billing requests (debit memo requests) that were rejected",
        "signalFragment": "(\nSUM(\"BillingRequest_RejectedCount\")\n/\nSUM(\"BillingRequest_TotalCount\")\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_invoice_cancellation_rate",
        "name": "Invoice cancellation rate",
        "description": "Percentage of invoices (billing documents) that were canceled",
        "signalFragment": "(\nSUM(\"BillingDoc_TotalCancelled\")\n/\nSUM(\"BillingDoc_TotalCount\")\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_invoices_cancelled",
        "name": "Number of invoices canceled",
        "description": "Number of invoices (billing documents) that were canceled",
        "signalFragment": "SUM(\"BillingDoc_TotalCancelled\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_invoices_created",
        "name": "Number of invoices created",
        "description": "Number of invoices (billing documents) that were created",
        "signalFragment": "SUM(\"BillingDoc_TotalCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of invoices that were cleared one or more days after their due dates",
        "signalFragment": "(\nSUM(\"AR_PaidLateCount\")\n/\nSUM(\"AR_CountClearedDocuments\")\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_ar_documents",
        "name": "Number of accounts receivable documents",
        "description": "Number of accounts receivable documents",
        "signalFragment": "SUM(\"AR_CountDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_ar_documents_paid_late",
        "name": "Number of accounts receivable documents paid late",
        "description": "Number of accounts receivable documents that were cleared one or more days after their due dates",
        "signalFragment": "SUM(\"AR_PaidLateCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_approved_timesheets",
        "name": "Number of approved timesheets",
        "description": "Number of timesheet records in status 'Approved'",
        "signalFragment": "SUM(\"TSR_ApprovedDocsNumber\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_non_approved_timesheets",
        "name": "Number of non-approved timesheets",
        "description": "Number of timesheet records that are not in status 'Approved'",
        "signalFragment": "SUM(\"TSR_Count\") - SUM(\"TSR_ApprovedDocsNumber\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_billing_requests",
        "name": "Number of billing requests (DMR)",
        "description": "Number of billing requests (debit memo requests)",
        "signalFragment": "SUM(\"BillingRequest_TotalCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_cancelled_timesheets",
        "name": "Number of canceled timesheets",
        "description": "Number of canceled Timesheet Records",
        "signalFragment": "SUM(\"TSR_CancelledDocsNumber\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_idle_projects",
        "name": "Number of idle projects",
        "description": "Number of projects that are neither cleared nor closed and had no activity during a certain time frame",
        "signalFragment": "COUNT(DISTINCT case_id) FILTER (\n\tWHERE NOW() - (SELECT LAST(end_time)) > DURATION ${p2c_s4hc_idling_period}\n\t  AND (SELECT FIRST(event_name) FILTER (\n\t\tWHERE event_name IN ('Clear Accounts Receivable'))) IS NULL\n\t\t  AND \"Project_StageText\" NOT IN ('Closed')\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_rejected_billing_requests",
        "name": "Number of rejected billing requests (DMR)",
        "description": "Number of rejected billing requests (debit memo requests)",
        "signalFragment": "SUM(\"BillingRequest_RejectedCount\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_open_ar_docs_timeframe",
        "name": "Number of open accounts receivable documents (with time frame)",
        "description": "Number of accounts receivable documents open for longer than a certain time frame",
        "signalFragment": "COUNT(DISTINCT \"ARUniqueKey\") FILTER (\n\tWHERE\n\t\tevent_name = 'Create Accounts Receivable'\n\t\tAND \"ClearingDate\" IS NULL\n\t\tAND (NOW()-\"DocumentDate\")> DURATION ${p2c_s4hc_open_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_open_ar_docs",
        "name": "Number of open accounts receivable documents",
        "description": "Number of accounts receivable documents that are not yet cleared",
        "signalFragment": "SUM(\"AR_CountOpenDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_timesheets",
        "name": "Number of timesheets",
        "description": "Number of timesheet records",
        "signalFragment": "SUM(\"TSR_Count\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_timesheets_per_project",
        "name": "Number of timesheets created per project",
        "description": "Number of timesheet records created per project",
        "signalFragment": "AVG(\"TSR_Count\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_on_time_payment_rate",
        "name": "On-time payment rate",
        "description": "Percentage of invoices that were cleared on or before the due date",
        "signalFragment": "(\n(SUM(\"AR_CountClearedDocuments\") - SUM(\"AR_PaidLateCount\"))\n/\nSUM(\"AR_CountClearedDocuments\")\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_closed",
        "name": "Percentage of closed projects",
        "description": "Percentage of projects in the stage 'Closed'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Closed'\n\t)\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_closed",
        "name": "Number of closed projects",
        "description": "Number of projects in the stage 'Closed'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Closed'\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_completed",
        "name": "Percentage of completed projects",
        "description": "Percentage of projects in the stage 'Completed'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Completed'\n\t)\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_completed",
        "name": "Number of completed projects",
        "description": "Number of projects in the stage 'Completed'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Completed'\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_created_after_start",
        "name": "Percentage of projects created after start date",
        "description": "Percentage of projects that were created after the defined start date",
        "signalFragment": "(\nSUM(\"Project_CreationAfterStartFlag\")\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_created_after_start",
        "name": "Number of projects created after start date",
        "description": "Number of projects that were created after the defined start date",
        "signalFragment": "SUM(\"Project_CreationAfterStartFlag\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_contract_preparation",
        "name": "Percentage of projects in contract preparation",
        "description": "Percentage of projects in the stage 'Contract Preparation'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Contract Preparation'\n\t)\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_contract_preparation",
        "name": "Number of projects in contract preparation",
        "description": "Number of projects in the stage 'Contract Preparation'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'Contract Preparation'\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_in_execution",
        "name": "Percentage of projects in execution",
        "description": "Percentage of projects in the stage 'In Execution'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'In Execution'\n\t)\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_in_execution",
        "name": "Number of projects in execution",
        "description": "Number of projects in the stage 'In Execution'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'In Execution'\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_in_planning",
        "name": "Percentage of projects in planning",
        "description": "Percentage of projects in the stage 'In Planning'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'In Planning'\n\t)\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_in_planning",
        "name": "Number of projects in planning",
        "description": "Number of projects in the stage 'In Planning'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" = 'In Planning'\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_of_open_projects",
        "name": "Percentage of open projects",
        "description": "Percentage of projects that are open, this means neither in the stage 'Closed' nor 'Completed'",
        "signalFragment": "(\nCOUNT(case_id) FILTER (WHERE \"Project_StageText\" NOT IN ('Closed', 'Completed'))\n/\nCOUNT(case_id)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_open_projects",
        "name": "Number of open projects",
        "description": "Number of projects that are open, this means neither in the stage 'Closed' nor 'Completed'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Project_StageText\" NOT IN ('Closed','Completed')\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_percentage_projects_costs_after_end",
        "name": "Percentage of projects with costs after end date",
        "description": "Percentage of projects with costs being posted after the official end date",
        "signalFragment": "(\nCOUNT (case_id) FILTER (\n\tWHERE (\"CostDoc_EnterDocAfterProjectClosingCount\" > 0)\n\t)\n/\nCOUNT(case_id)\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_costs_after_end",
        "name": "Number of projects with costs after end date",
        "description": "Number of projects with costs being posted after the official end date",
        "signalFragment": "COUNT (case_id) FILTER (\n\tWHERE (\"CostDoc_EnterDocAfterProjectClosingCount\" > 0)\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_approved_hours",
        "name": "Total approved hours",
        "description": "Total amount of hours in approved timesheets",
        "signalFragment": "SUM(\"TSR_HoursApproved\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_cancelled_hours",
        "name": "Total canceled hours",
        "description": "Total amount of hours in canceled timesheets",
        "signalFragment": "SUM(\"TSR_HoursCancelled\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_cleared_amount",
        "name": "Total cleared amount",
        "description": "Total of all cleared amounts in accounts receivables",
        "signalFragment": "SUM(${p2c_s4hc_cleared_sum_currency}) * (-1)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_hours_changed_after_approval",
        "name": "Total hours changed after approval",
        "description": "Total amount of hours in timesheets that have been changed after approval",
        "signalFragment": "SUM(\"TSR_HoursChangedAfterApproval\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_hours_in_process",
        "name": "Total hours in process",
        "description": "Total amount of hours in timesheets that are in status 'in process'",
        "signalFragment": "SUM(\"TSR_HoursInProcess\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_hours_released_for_approval",
        "name": "Total hours released for approval",
        "description": "Total amount of hours in timesheets that are in status 'released for approval'",
        "signalFragment": "SUM(\"TSR_HoursReleased\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_invoiced_amount",
        "name": "Total invoiced amount",
        "description": "Total of all invoiced amounts in accounts receivables",
        "signalFragment": "SUM(${p2c_s4hc_invoiced_sum_currency})",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_open_amount",
        "name": "Total open amount",
        "description": "Total of all open amounts in accounts receivables",
        "signalFragment": "SUM(${p2c_s4hc_invoiced_sum_currency} + ${p2c_s4hc_cleared_sum_currency})",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_overdue_amount",
        "name": "Total overdue amount",
        "description": "Total of all amounts in accounts receivables that are overdue for longer than a certain time frame",
        "signalFragment": "SUM(${p2c_s4hc_amount_currency}) FILTER (\n\tWHERE event_name = 'Create Accounts Receivable'\n\t  AND \"ClearingDate\" IS NULL\n\t  AND (NOW()-\"NetDueDate\")> DURATION ${p2c_s4hc_overdue_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_overdue_ar_documents",
        "name": "Number of overdue accounts receivable documents",
        "description": "Number of all accounts receivable documents that are overdue for longer than a certain time frame",
        "signalFragment": "COUNT(DISTINCT \"ARUniqueKey\") FILTER (\n\tWHERE event_name = 'Create Accounts Receivable'\n\t  AND \"ClearingDate\" IS NULL\n\t  AND (NOW()-\"NetDueDate\")> DURATION ${p2c_s4hc_overdue_ar_period}\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_projects_with_overdue_ar_docs",
        "name": "Number of projects with overdue accounts receivable documents",
        "description": "Number of projects that have at least one accounts receivable document that is overdue for longer than a certain time frame",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name) > 0\n\t\t   WHERE event_name = 'Create Accounts Receivable'\n\t\t\t AND \"ClearingDate\" IS NULL\n\t\t\t AND (NOW()-\"NetDueDate\") > DURATION ${p2c_s4hc_overdue_ar_period})\n\t)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_total_paid_late_amount",
        "name": "Total paid late amount",
        "description": "Total of all amounts in accounts receivables that were cleared one or more days after their net due dates",
        "signalFragment": "SUM(${p2c_s4hc_amount_currency}) FILTER (\n\tWHERE event_name = 'Clear Accounts Receivable'\n\t  AND (\"ClearingDate\" - \"NetDueDate\") > DURATION '1day'\n\t)",
        "aggregationType": "EVENT",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_number_of_cleared_ar_items",
        "name": "Number of cleared accounts receivable documents",
        "description": "Number of accounts receivable documents that were fully cleared",
        "signalFragment": "SUM(\"AR_CountClearedDocuments\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_p2c_sap_s4hc_rejected_hours",
        "name": "Total rejected hours",
        "description": "Total amount of hours in rejected timesheets",
        "signalFragment": "SUM(\"TSR_HoursApprovalRejected\")",
        "aggregationType": "CASE",
        "processTypes": [
          "PROJECT_TO_CASH_SAP_S4H_CLOUD"
        ],
        "sourceSystems": [
          "SAP_S4HANACLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_r2s_sap_servicecloud_contract_attach_rate",
        "name": "Contract attach rate",
        "description": "Service tickets with attached customer contract",
        "signalFragment": "COUNT(case_id) FILTER (WHERE \"Ticket Contract\" IS NOT NULL)\n/\nCOUNT(case_id)*100",
        "aggregationType": "CASE",
        "processTypes": [
          "REQUEST_TO_SERVICE"
        ],
        "sourceSystems": [
          "SAP_SERVICE_CLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_r2s_sap_servicecloud_first_time_fix_rate",
        "name": "First time fix rate",
        "description": "Rate of first time fixes for tickets",
        "signalFragment": "(COUNT (case_id) FILTER(WHERE ((SELECT COUNT (event_name) FILTER (WHERE event_name IN ('Technically Completed')) < 2) ))\n/ \nCOUNT (case_id) )*100",
        "aggregationType": "CASE",
        "processTypes": [
          "REQUEST_TO_SERVICE"
        ],
        "sourceSystems": [
          "SAP_SERVICE_CLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "l2c_r2s_sap_servicecloud_avg_tickets_per_customer",
        "name": "Average number of tickets per customer",
        "description": "Average number of tickets per customer",
        "signalFragment": "COUNT(case_id) / COUNT(DISTINCT \"Ticket Account ID\")",
        "aggregationType": "CASE",
        "processTypes": [
          "REQUEST_TO_SERVICE"
        ],
        "sourceSystems": [
          "SAP_SERVICE_CLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_r2s_sap_servicecloud_ratio_escalated_tickets",
        "name": "Ratio of escalated tickets",
        "description": "Rate of tickets that were escalated",
        "signalFragment": "COUNT (\"case_id\") \nFILTER (WHERE (EVENT_NAME MATCHES ('Escalated')))\n/\nCOUNT (\"case_id\") * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "REQUEST_TO_SERVICE"
        ],
        "sourceSystems": [
          "SAP_SERVICE_CLOUD"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "l2c_r2s_sap_servicecloud_avg_response_time",
        "name": "Average response time",
        "description": "Average time from ticket creation to first response",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${rts_response_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ticket_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "REQUEST_TO_SERVICE"
        ],
        "sourceSystems": [
          "SAP_SERVICE_CLOUD"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "production_orders_overdue_for_delivery_completed",
        "name": "Production orders overdue for delivery completed",
        "description": "Number of released production orders whose scheduled finish date is overdue and the final delivery indicator is not set",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${mtos_prod_order_deliv_not_completed_condition} \n    \t\tAND ${mtos_prod_order_gr_allowed_condition}\n            AND (NOW() - ${mots_prod_order_scheduled_finish_date}) < DURATION ${mots_scheduled_finish_overdue_period}          \n    )\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "planned_orders_converted_into_prod_orders",
        "name": "Planned orders converted too early/late into production orders",
        "description": "Number of production orders for which the conversion into a production order was on a different date from the calculated conversion date in the planned order",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( SELECT COUNT(event_name)    \t    \n            WHERE (${mots_prod_order_item_status} NOT IN (${mots_prod_order_item_status_teco_clsd}))\n            AND (               \n            \t${mots_prod_order_creation_date} <> ${mots_prod_order_opening_date} \n            )\n    ) > 0\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "perc_of_prod_orders_created_auto",
        "name": "Automated production orders creation rate",
        "description": "Percentage of production orders created automatically within a reference period",
        "signalFragment": "count(case_id) FILTER \n(where  \n    (                    \n      SELECT COUNT(event_name)    \t    \n            WHERE (${mots_automation_condition})\n            and \"event_name\" = ${mots_prod_order_creation_events}\n    ) > 0\n)\n/\nCOUNT(CASE_ID)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "prod_orders_overdue_for_deletion",
        "name": "Production orders overdue for deletion flag",
        "description": "Number of production orders without a deletion flag for which the basic finish date is more than a specified period in the past",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( SELECT COUNT(event_name)\n    \t    WHERE ${mots_prod_order_item_status} IN (${mots_prod_order_item_deletion_flag})\n    ) = 0\n    AND (NOW() - ${mots_prod_order_item_basic_finish_date}) > DURATION ${mots_deletion_flag_overdue_period}\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_prod_orders_overdue_for_closed",
        "name": "Production orders overdue for status closed",
        "description": "Number of open overdue production orders which are technically closed",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( SELECT COUNT(event_name)\n    \t    WHERE ${mots_prod_order_item_status} IN (${mots_prod_order_item_status_teco})\n    ) > 0\n    AND ( SELECT COUNT(event_name)\n    \t    WHERE ${mots_prod_order_item_status} IN (${mots_prod_order_item_status_clsd_dlfl})\n    ) = 0\n\tAND (NOW() - ${mots_prod_order_scheduled_finish_date}) < DURATION ${mots_scheduled_finish_overdue_period}\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_avg_time_to_ppc_backflush_per_day",
        "name": "Backflushing entries created",
        "description": "Average number of backflushing entries created per day",
        "signalFragment": "CASE\n\tWHEN\n    \tCOUNT(DISTINCT DATE_TRUNC('day', ${mots_prod_order_backflush_creation_time})) = 0\n\t\tTHEN 0\n    ELSE\n\t\tCOUNT(case_id) \n   \t\t\tFILTER (\n   \t\t\t\tWHERE ${mots_prod_order_backflush_creation_time} IS NOT NULL\n\t\t\t)\n\t\t/\n\t\tCOUNT(DISTINCT DATE_TRUNC('day', ${mots_prod_order_backflush_creation_time}))\nEND",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_prod_version_usage_per_plant",
        "name": "Production version usage",
        "description": "Sum of production version usage",
        "signalFragment": "SUM( ${mots_prod_version_usage} )",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_unprocessed_ppc_postings",
        "name": "Unprocessed Production Planning and Control postings of activities",
        "description": "Number of unprocessed Production Planning and Control postings of activities",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( \n     ${mots_prod_order_unprocessed_ppc_posting_condition}\n    ) \n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_prod_orders_overdue_release",
        "name": "Production orders overdue for release",
        "description": "Number of production orders that have been overdue for release for a specified period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${mots_prod_order_actual_release_date} IS NULL\n            AND ( NOW() - ${mots_prod_order_scheduled_release_date} ) > DURATION ${mots_sch_rel_date_overdue_period}\n    )\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_lead_time_of_prod_order_creation_to_closure",
        "name": "Average time from production order creation to the actual technical closure date",
        "description": "Average lead time from 'Create Production Order Item' event to the actual technical closure date",
        "signalFragment": "AVG(\n\t(SELECT LAST(${mots_prod_order_act_tech_closure_date})\n\t\t)\n     - (SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${mots_prod_order_creation_events})\n\t\t)\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_work_center_usage",
        "name": "Work center usage via routing",
        "description": "Sum of work center usage via routing",
        "signalFragment": "SUM(${mots_prod_order_routing_usage})",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_prod_orders_overdue_tech_closure",
        "name": "Production orders overdue for technical closure",
        "description": "Production orders overdue for technical closure",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( SELECT COUNT(event_name)\n    \t    WHERE ${mots_prod_order_item_status} IN (${mots_prod_order_item_status_teco_clsd})\n    ) = 0\n    AND ( NOW() - ${mots_prod_order_scheduled_finish_date} ) > DURATION ${mots_scheduled_finish_overdue_period}\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_prod_orders_overdue_final_confirmation",
        "name": "Production orders overdue for final confirmation",
        "description": "Number of production orders whose scheduled finish date is more than a specified period in the past, and the final confirmation has not yet been posted",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( ( NOW() - ${mots_prod_order_scheduled_finish_date} ) > DURATION ${mots_scheduled_finish_overdue_period}\n            AND ${mots_prod_order_scheduled_finish_date} IS NULL\n    )\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_missing_parts_in_prod_orders_unreleased",
        "name": "Missing parts in production order not yet released",
        "description": "Number of not yet released production orders which were created in a selected time period that have missing parts resulting from the ATP check",
        "signalFragment": "COUNT( case_id) FILTER (\n\tWHERE ( SELECT COUNT(event_name)\n            WHERE (${mots_prod_order_item_status} IN (${mots_prod_orders_released}))\n    ) = 0\n    AND ${mots_missing_parts_in_prod_orders} IS NOT NULL\n    AND ( NOW() - ( SELECT LAST(end_time)\n\t\t  WHERE event_name IN (${mots_prod_order_creation_events}) ) \n          <= DURATION ${mots_not_released_prod_orders_reference_period})\n)\n",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_lead_time_of_prod_orders_creation_to_delivery",
        "name": "Average time from production order creation to delivery",
        "description": "Average lead time from 'Create Production Order Item' event to 'Create Outbound Delivery Item' event",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${mots_outbound_delivery_creation_events})\n\t\t)\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${mots_prod_order_creation_events})\n\t\t)\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "mots_perc_of_prod_orders_ref_to_planned_orders",
        "name": "Automated production orders with reference to planned orders creation rate",
        "description": "Percentage of automated production orders creation events with reference to planned orders",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (\n    \t${mots_prod_orders_reference_to_planned_order_condition}\n    )\n)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (                        \n      ${mots_created_prod_orders}\n    ) \n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_ORDER_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_accepted_usage_decisions_rate",
        "name": "Accepted usage decisions rate",
        "description": "Percentage of accepted usage decisions",
        "signalFragment": "COUNT(case_id) FILTER (\n WHERE\n (SELECT COUNT(event_name) WHERE (\"UD Code\"='A')) > 0\n\t AND event_name MATCHES ('Create Usage Decision')\n)/\n COUNT(case_id) FILTER (\n\t WHERE event_name MATCHES ('Create Usage Decision'))*100",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_result_recording_cycle_time",
        "name": "Result recording cycle time",
        "description": "Time from begin to complete result recording",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER(\n\tWHERE event_name = 'Complete Result Recording'))\n\t-\n\t(SELECT LAST(end_time) FILTER(\n\tWHERE event_name='Begin Result Recording'))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_cases_with_free_and_restricted_material_movement",
        "name": "Cases with free and restricted material movement",
        "description": "Number of cases with both free and restricted material movement",
        "signalFragment": "COUNT (CASE_ID) FILTER (\n WHERE EVENT_NAME MATCHES ('Material Movement Free')\n AND EVENT_NAME MATCHES ('Material Movement Restricted')) \n",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_result_recording_to_usage_decision_lead_time",
        "name": "Result recording to usage decision lead time",
        "description": "Time from complete result recording to create usage decision",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER(\n\tWHERE event_name='Create Usage Decision'))\n\t-\n\t(SELECT LAST(end_time) FILTER(\n\tWHERE event_name = 'Complete Result Recording'))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_free_material_movement_rate",
        "name": "Free material movement rate",
        "description": "Percentage of cases with free material movement",
        "signalFragment": "COUNT (event_name) FILTER (\n\tWHERE event_name IN ('Material Movement Free')\n )\n/\nCOUNT (event_name) FILTER (\n\tWHERE event_name ILIKE 'Material Movement%'\n)\n*100",
        "aggregationType": "EVENT",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_rejected_usage_decisions_rate",
        "name": "Rejected usage decisions rate",
        "description": "Percentage of rejected usage decisions",
        "signalFragment": "COUNT(case_id) FILTER (\n WHERE\n(SELECT COUNT(event_name) WHERE (\"UD Code\" = 'R')) > 0\n\t AND event_name MATCHES ('Create Usage Decision')\n) /\n  COUNT(case_id) FILTER (\n\t WHERE event_name MATCHES ('Create Usage Decision'))*100",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_restricted_material_movement_rate",
        "name": "Restricted material movement rate",
        "description": "Percentage of cases with restricted material movement",
        "signalFragment": "COUNT (event_name) FILTER (\n\tWHERE event_name IN ('Material Movement Restricted')\n )\n /\nCOUNT (event_name) FILTER (\n\tWHERE event_name ILIKE 'Material Movement%'\n)\n*100",
        "aggregationType": "EVENT",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_automation_rate_material_movement",
        "name": "Automation rate material movement",
        "description": "Percentage of automated material movement events",
        "signalFragment": "SUM((SELECT\n\tCOUNT(event_name) FILTER (\n\t\tWHERE ((${itq_automation_condition})\n\t\tAND event_name ILIKE 'Material Movement%'\n\t)))) / \nSUM((SELECT\n\tCOUNT(event_name) FILTER (\n    \tWHERE (\"Event Created By User Type\" IS NOT NULL)\n\t\tAND event_name ILIKE 'Material Movement%'))\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_automation_rate_usage_decision",
        "name": "Automation rate usage decision",
        "description": "Percentage of automated usage decision creation events",
        "signalFragment": "SUM((SELECT COUNT(event_name) FILTER (\n\t\tWHERE (${itq_automation_condition})\n\t)))\n/ \nSUM((SELECT COUNT(event_name) FILTER (\n\t\tWHERE (\"Event Created By User Type\" IS NOT NULL)))\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_delayed_inspections_rate",
        "name": "Delayed inspections rate",
        "description": "Percentage inspection with planned inspection end date before usage decision date",
        "signalFragment": "COUNT(case_id) FILTER(\n WHERE (\"Planned Inspection End Date\"<\n\t\t\t(SELECT LAST(END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Create Usage Decision'))\n\t\t\t)))\n \t/ COUNT(case_id) FILTER(\n\tWHERE event_name MATCHES('Create Usage Decision'))*100\n",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_number_of_delayed_inspections",
        "name": "Number of delayed inspections",
        "description": "Number of cases where create usage decision accrued after the planned inspection end date",
        "signalFragment": "COUNT(case_id) FILTER(\nWHERE (\"Planned Inspection End Date\"<\n\t  (SELECT LAST(END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Create Usage Decision')))))\n",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_i2q_sap_erp_average_cycle_time_of_delayed_inspections",
        "name": "Average cycle time of delayed inspections",
        "description": "Average cycle time of cases where usage decision accrued after the planned Inspection end date",
        "signalFragment": "\tAVG(\n\t\t(SELECT LAST(END_TIME) FILTER (\n \t\t WHERE EVENT_NAME IN ('Create Usage Decision')))\n\t\t\t-\"Planned Inspection End Date\"\n\t) FILTER(\n\t  \t\tWHERE(\"Planned Inspection End Date\"<\n\t\t\t\t(SELECT LAST(END_TIME) FILTER (\n \t\tWHERE EVENT_NAME IN ('Create Usage Decision'))\n\t)))",
        "aggregationType": "CASE",
        "processTypes": [
          "INSPECT_TO_QUALITY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_production_qty_accuracy",
        "name": "Production quantity accuracy",
        "description": "Rate between total process order quantities and total goods receipt quantities",
        "signalFragment": "AVG(\n\t\"Produced Delivered Quantity\"/\"Total Order Quantity\")\n\tFILTER(WHERE \"Delivery Completed\" IS NOT NULL)\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_po_specific_status",
        "name": "Process orders specific status",
        "description": "Total process orders with a specific status",
        "signalFragment": "COUNT(event_name)\n\tFILTER(WHERE event_name MATCHES(${mts_po_status_event_name}))",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_po_without_plo",
        "name": "Process orders without planned orders",
        "description": "Total process orders created without planned order reference",
        "signalFragment": "COUNT(case_id)\n\tFILTER(WHERE \"Planned Order Number\" IS NULL)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_planning_rate",
        "name": "Planning rate",
        "description": "Process orders with planned order reference and total process orders",
        "signalFragment": "COUNT(case_id)\n\tFILTER(WHERE \"Planned Order Number\" IS NOT NULL)\n/ \nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_num_goods_receipts",
        "name": "Number of goods receipts",
        "description": "Total number of single goods receipt postings",
        "signalFragment": "SUM((\n\tSELECT COUNT(event_name)\n\tFILTER(WHERE event_name LIKE 'GR%')))",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_automation_rate_specific_event",
        "name": "Automation rate for specific event",
        "description": "Automation rate for a specific event",
        "signalFragment": "SUM(\n\t(SELECT COUNT(event_name)\n\tFILTER (\n\t\tWHERE ((${mts_automation_condition})\n\t\tAND event_name IN (${mts_automation_event_name})))))\n/ SUM(\n\t(SELECT COUNT(event_name)\n\tFILTER (\n\t\tWHERE (event_name IN (${mts_automation_event_name})))))\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_po_release_overdue",
        "name": "Process orders overdue for release",
        "description": "Process orders where the scheduled release date is in the past and the actual release date is pending",
        "signalFragment": "COUNT(case_id)\n\tFILTER (WHERE \"Scheduled Release Date\" < NOW()\n\tAND \"Actual Release Date\" IS NULL)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_po_delivery_overdue",
        "name": "Process orders overdue for delivery",
        "description": "Process orders where the scheduled finish date is in the past and the actual delivery date is pending",
        "signalFragment": "COUNT(case_id)\n\tFILTER (WHERE \"Scheduled Finish Date\" < NOW()\n\tAND \"Actual Delivery Date\" IS NULL)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_start_date_diff",
        "name": "Start date: difference scheduled and actual date",
        "description": "Average difference of the scheduled start date minus the actual start date",
        "signalFragment": "AVG(\n\"Scheduled Start Date\" - \"Actual Start Date\")",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_end_date_diff",
        "name": "Finish date: difference scheduled and actual date",
        "description": "Average difference of the scheduled finish date minus the actual finish date",
        "signalFragment": "AVG(\n\"Scheduled Finish Date\" - \"Actual Finish Date\")",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_release_date_diff",
        "name": "Release date: difference scheduled and actual date",
        "description": "Average difference of the scheduled release date minus the actual release date",
        "signalFragment": "AVG(\n\"Scheduled Release Date\" - \"Actual Release Date\")",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_late_delivery_rate",
        "name": "Late delivery rate",
        "description": "Percentage of late delivered orders from total orders",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Actual Delivery Date\" IS NOT NULL\n\tAND (\"Actual Delivery Date\" - \"Scheduled Finish Date\" > DURATION '0days'))\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Actual Delivery Date\" IS NOT NULL)\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_early_delivery_rate",
        "name": "Early delivery rate",
        "description": "Percentage of early delivered orders from total orders",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Actual Delivery Date\" IS NOT NULL\n\tAND (\"Actual Delivery Date\" - \"Scheduled Finish Date\" < DURATION '0days')\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE\"Actual Delivery Date\" IS NOT NULL)\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_on_time_delivery_rate",
        "name": "On-time delivery rate",
        "description": "Percentage of on-time delivered orders from total orders",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Actual Delivery Date\" IS NOT NULL\n\tAND \"Actual Delivery Date\" - \"Scheduled Finish Date\" = DURATION '0days'\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Actual Delivery Date\" IS NOT NULL)\n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_order_release_lead_time",
        "name": "Order release lead time",
        "description": "Time from order creation to order release",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER(\n\tWHERE event_name = 'Released'))\n\t-\n(SELECT LAST(end_time) FILTER(\n\tWHERE event_name = 'Create Process Order'))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_order_confirmation_lead_time",
        "name": "Order confirmation lead time",
        "description": "Time from order release to order confirmation",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER(\n\tWHERE event_name = 'Confirmed'))\n\t-\n\t(SELECT LAST(end_time) FILTER(\n\tWHERE event_name = 'Released'))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_m2s_sap_erp_manufacturing_lead_time",
        "name": "Manufacturing lead time",
        "description": "Time from order release to order receipt",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) FILTER(\n\tWHERE event_name LIKE 'GR%'))\n\t-\n\t(SELECT LAST(end_time) FILTER(\n\tWHERE event_name = 'Released'))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "MAKE_TO_STOCK"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_fully_shipped",
        "name": "% of ODO Items fully shipped",
        "description": "Percentage of Outbound Delivery Order Items where ODO quantity was fully shipped (GI quantity)",
        "signalFragment": "COUNT (DISTINCT (CASE \nWHEN \"ODO Item Quantity\"=\"Total GI Quantity\" THEN \"case_id\" \nELSE NULL\nEND)) \n/\nCOUNT (distinct \"case_id\")\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_not_fully_shipped",
        "name": "% of ODO items not fully shipped",
        "description": "Percentage of Outbound Delivery Order Items where ODO quantity matches GI quantity - ODO Item is fully shipped",
        "signalFragment": "COUNT (DISTINCT (CASE \nWHEN \"ODO Item Quantity\"=\"Total GI Quantity\" THEN NULL \nWHEN \"ODO Item Quantity\"<\"Total GI Quantity\" THEN NULL \nELSE \"case_id\" \nEND)) \n/\nCOUNT (distinct \"case_id\")\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_overdelivered",
        "name": "% of ODO items overdelivered",
        "description": "Percentage of Outbound Delivery Order Items where a higher quantity was delivered than ordered",
        "signalFragment": "COUNT (DISTINCT (CASE \nWHEN \"ODO Item Quantity\"=\"Total GI Quantity\" THEN NULL \nWHEN \"ODO Item Quantity\">\"Total GI Quantity\" THEN NULL \nELSE \"case_id\" \nEND)) \n/\nCOUNT (distinct \"case_id\")\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_wo_picking_wts",
        "name": "% of ODO Items w/o Picking WTs",
        "description": "Percentage of Outbound Delivery Order Items without the Warehouse Task \"Picking\"",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' \nAND \"WT Activity Type\" = 'PICK')) = 0 \nTHEN Null\nELSE case_id\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_wo_wts",
        "name": "% of ODO Items w/o WTs",
        "description": "Percentage of Outbound Delivery Order Items that don't have any Warehouse Tasks created",
        "signalFragment": "COUNT(\nCASE WHEN event_name MATCHES('Create Warehouse Task') THEN null\nELSE case_id\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_completed_wts",
        "name": "% of ODO Items with completed WTs",
        "description": "Percentage of Outbound Delivery Order Items where all WTs are confirmed",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task')) > 0\nAND\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' )) =\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Confirm Warehouse Task')) \nTHEN case_id\nELSE Null\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odoi_w_partially_completed_wts",
        "name": "% of ODO Items with partially completed WTs",
        "description": "Percentage of Outbound Delivery Order Items where not all WTs are confirmed",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' )) >\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Confirm Warehouse Task')) \nTHEN case_id\nELSE Null\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_w_picking_wts_completed",
        "name": "% of ODO Items with Picking WTs completed",
        "description": "Percentage of Outbound Delivery Items where all \"Picking\" Warehouse Tasks are completed",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task'\nAND \"WT Activity Type\" = 'PICK')) > 0\nAND\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' \nAND \"WT Activity Type\" = 'PICK')) =\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Confirm Warehouse Task'\nAND \"WT Activity Type\" = 'PICK')) \nTHEN case_id\nELSE Null\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odos_w_picking_wts_completed_wo_gi_posted",
        "name": "% of ODO Items with Picking WTs Completed w/o Goods Issue posted",
        "description": "Percentage of ODO Items with Picking completed without Goods Issue posted",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task'\nAND \"WT Activity Type\" = 'PICK')) > 0\nAND\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' \nAND \"WT Activity Type\" = 'PICK')) =\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Confirm Warehouse Task' \nAND \"WT Activity Type\" = 'PICK')) \nAND \n(SELECT COUNT(event_name)\nWHERE (event_name = 'Post Goods Issue')) = 0\nTHEN case_id\nELSE Null\nEND)\n/ \nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odos_w_picking_wts_partially_completed",
        "name": "% of ODO Items with Picking WTs partially completed",
        "description": "Percentage of Outbound Delivery Items where not all \"Picking\" Warehouse Tasks are completed",
        "signalFragment": "COUNT(\nCASE WHEN\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Create Warehouse Task' \nAND \"WT Activity Type\" = 'PICK')) >\n(SELECT COUNT(event_name)\nWHERE (event_name = 'Confirm Warehouse Task'\nAND \"WT Activity Type\" = 'PICK'))\nTHEN case_id\nELSE Null\nEND)\n/\nCOUNT(case_id)\n*100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_percentage_odos_wo_wts",
        "name": "% of ODOs w/o WTs",
        "description": "Percentage of Outbound Delivery Orders that don't have any Warehouse Tasks created",
        "signalFragment": "COUNT (distinct (CASE WHEN event_name MATCHES('Create Warehouse Task') THEN null\nELSE \"ODO Document Number\" \nEND)) \n/\nCOUNT (distinct \"ODO Document Number\")\n*100\n\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_med_cyclet_odoi_creation_last_wt_creation",
        "name": "Median Cycle Time: ODO Item Creation and (last) WT completion",
        "description": "Median Cycle Time for goods from Outbound Delivery Orders creation to the last Warehouse Task completion",
        "signalFragment": "MEDIAN(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Confirm Warehouse Task')\n\t\t)\n\t-(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Create Outbound Delivery Order Item')\n))",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_med_cyclet_odoi_creation_first_wt_creation",
        "name": "Median Cycle Time: ODO Item Creation to (first) WT Creation",
        "description": "Median Cycle Time for goods from Outbound Delivery Order Items creation to the first Warehouse Task creation",
        "signalFragment": "MEDIAN(\n\t(SELECT FIRST(end_time)\n\t\tWHERE event_name IN ('Create Warehouse Task')\n\t\t)\n\t-(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Create Outbound Delivery Order Item')\n\t\t)\n\t)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_outst_revenue",
        "name": "Outstanding Revenue",
        "description": "Amount of Revenue outstanding due to Items not shipped",
        "signalFragment": "SUM ( (CASE \nWHEN \"ODO Item Quantity\"=\"Total GI Quantity\" THEN NULL \nWHEN \"ODO Item Quantity\"< \"Total GI Quantity\" THEN NULL\nELSE \n(CASE WHEN \"SO Item Document Number\" IS NULL THEN NULL\nELSE (\"ODO Item Quantity\"-\"Total GI Quantity\")*(\"SO Item Net Value in Document Currency\"/\"SO Item Quantity Ordered\") END)\n\nEND))",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_pot_revenue",
        "name": "Potential Revenue",
        "description": "Revenue of ODO Items to be shipped",
        "signalFragment": "SUM(CASE WHEN \"SO Item Document Number\" IS NULL THEN NULL\nWHEN \"SO Item Quantity Ordered\" IS NULL OR \"SO Item Quantity Ordered\"=0 THEN NULL\nELSE  (\"ODO Item Quantity\")*(\"SO Item Net Value in Document Currency\"/\"SO Item Quantity Ordered\") END)\n",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_outbound_sap_ewm_revenue",
        "name": "Revenue",
        "description": "Revenue of ODO Items shipped",
        "signalFragment": "SUM (\nCASE WHEN \"SO Item Document Number\" IS NULL THEN NULL\nWHEN \"SO Item Quantity Ordered\" IS NULL OR \"SO Item Quantity Ordered\"=0 THEN NULL\nELSE (\"Total GI Quantity\")*(\"SO Item Net Value in Document Currency\"/\"SO Item Quantity Ordered\")\nEND\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_EWM"
        ],
        "processTypes": [
          "EWM_BASIC_OUTBOUND"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_carrier_change_rate",
        "name": "Carrier Change Rate",
        "description": "Rate of Freight Orders that have a carrier change",
        "signalFragment": "COUNT(case_id) \n\tFILTER (WHERE event_name MATCHES ('Change Carrier')\n\t)\n/\nCOUNT(case_id) \n*100 ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_carrier_rejection_rate",
        "name": "Carrier Rejection Rate",
        "description": "Rate of Freight Orders that were rejected by Carrier",
        "signalFragment": "COUNT(case_id) \n\tFILTER (WHERE event_name MATCHES ('Freight Order Rejected by Vendor')\n\t)\n/\nCOUNT(case_id) \n*100 ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fsd_cancellation_rate",
        "name": "Freight Settlement Cancellation Rate",
        "description": "Rate of Freight Settlements that were cancelled",
        "signalFragment": "COUNT(case_id) \n\tFILTER (WHERE event_name MATCHES ('Cancel Settlement')\n\t)\n/\nCOUNT(case_id) \n*100 ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_late_delivery_rate",
        "name": "Late Delivery Rate",
        "description": "Rate of Freight Order that were executed a defined period of time after the defined delivery date",
        "signalFragment": "COUNT(case_id) FILTER(WHERE\n\t(SELECT LAST(end_time) FILTER\n    (WHERE event_name IN ('Confirm Execution Done')))\n\t- \"FRO Delivery Date\"\n\t> DURATION ${late_delivery_duration}\n    AND \"FRO Delivery Status\" = '03')\n/ \nCOUNT(case_id) FILTER (WHERE \"FRO Delivery Status\" = '03')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_confirmation_cycle_time",
        "name": "Med. Cycle Time FRO Confirmation by Vendor",
        "description": "Median Cycle Time from Send Freight Order to Vendor to Freight Order Confirmed by Vendor",
        "signalFragment": "MEDIAN(\n\t(SELECT LAST (end_time) FILTER (\n     WHERE event_name IN ('Freight Order Confirmed by Vendor'))\n\t) \n- \t(SELECT FIRST (end_time) FILTER (\n     WHERE event_name IN ('Send Freight Order to Vendor'))\n\t)\n)    ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_execution_cancel_cycle_time",
        "name": "Med. Cycle Time FRO Creation to Execution Cancellation",
        "description": "Median Cycle Time Freight Order Creation to Cancel Execution",
        "signalFragment": "MEDIAN(\n\t(SELECT LAST (end_time) FILTER (\n     WHERE event_name IN ('Cancel Execution'))\n\t) \n- \t(SELECT FIRST (end_time) FILTER (\n     WHERE event_name IN ('Create Freight Order'))\n\t)\n)    ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fro_to_fsd_cycle_time",
        "name": "Med. Cycle Time FRO Creation to FSD Creation",
        "description": "Median Cycle Time Freight Order Creation to Freight Settlement Document Creation",
        "signalFragment": "MEDIAN(\n\t(SELECT LAST (end_time) FILTER (\n     WHERE event_name IN ('Create Freight Settlement Document'))\n\t) \n- \t(SELECT FIRST (end_time) FILTER (\n     WHERE event_name IN ('Create Freight Order'))\n\t)\n)    ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fsd_cancel_cycle_time",
        "name": "Med. Cycle Time FSD Creation to Cancel Settlement",
        "description": "Median Cycle Time Freight Settlement Document Creation to Cancel Settlement",
        "signalFragment": "MEDIAN(\n\t(SELECT LAST (end_time) FILTER (\n     WHERE event_name IN ('Cancel Settlement'))\n\t) \n- \t(SELECT FIRST (end_time) FILTER (\n     WHERE event_name IN ('Create Freight Settlement Document'))\n\t)\n)    ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_continuation_after_cancellation",
        "name": "Number of Cases with Process Continuation after Cancellation",
        "description": "Number of cases with events happening after a cancellation event",
        "signalFragment": "COUNT( case_id) FILTER(\n\tWHERE EVENT_NAME MATCHES ('Cancel Freight Order (Tech.)') \n    AND NOT EVENT_NAME MATCHES ('Cancel Freight Order (Tech.)'$)\n    OR (EVENT_NAME MATCHES ('Cancel Execution') \n\tAND NOT EVENT_NAME MATCHES ('Cancel Execution'$))\n\tOR (EVENT_NAME MATCHES ('Cancel Settlement') \n\tAND NOT EVENT_NAME MATCHES ('Cancel Settlement'$))\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fro_cancellation_rate",
        "name": "Freight Order Cancellation (Tech.) Rate",
        "description": "Rate of Freight Orders that were technically cancelled",
        "signalFragment": "COUNT(case_id) \n\tFILTER (WHERE event_name MATCHES ('Cancel Freight Order (Tech.)')\n\t)\n/\nCOUNT(case_id) \n*100 ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fro_execution_cancellation_rate",
        "name": "Freight Order Execution Cancellation Rate",
        "description": "Rate of Freight Orders that were cancelled during execution",
        "signalFragment": "COUNT(case_id) \n\tFILTER (WHERE event_name MATCHES ('Cancel Execution')\n\t)\n/\nCOUNT(case_id) \n*100 ",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_mte_sap_tm_fro_on_time_execution",
        "name": "Freight Orders executed on time",
        "description": "Number of Freight Orders that were executed on or before the defined delivery date",
        "signalFragment": "COUNT(case_id) FILTER(WHERE\n\t(SELECT LAST(end_time) FILTER\n\t    (WHERE event_name IN ('Confirm Execution Done')))\n\t\t-\"FRO Delivery Date\" <= DURATION ${late_delivery_duration}\n\tAND \"FRO Delivery Status\" = '03')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_TM"
        ],
        "processTypes": [
          "MANAGING_TRANSPORTATION"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_on_time_manufacturing",
        "name": "Orders Manufactured On Time",
        "description": "Orders Manufactured On Time",
        "signalFragment": "COUNT(distinct \"case_id\") FILTER (WHERE\n\"Order Actual Start\" <= \"Order Planned Start\" AND\n\"Order Actual Completion\" <= \"Order Planned Completion\")",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_avg_time_for_routing_step",
        "name": "Average Cycle Time for Routing Step",
        "description": "Average time between Start and Complete of a certain Routing step",
        "signalFragment": "AVG ((SELECT FIRST (END_TIME) FILTER (WHERE EVENT_NAME LIKE ${routing_step_end})) - (SELECT FIRST (END_TIME) FILTER (WHERE EVENT_NAME LIKE ${routing_step_start})))",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_avg_production_order_to_goods_receipt",
        "name": "Average Time from Production Order to Goods Receipt",
        "description": "Average Time from Production Order to Goods Receipt",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (WHERE EVENT_NAME IN ('Post Goods Receipt'))) - (SELECT FIRST (END_TIME) FILTER (WHERE EVENT_NAME IN ('Create Production Order'))))",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_completed_orders",
        "name": "Completed Orders",
        "description": "Production order deliveries status  100% completed",
        "signalFragment": "COUNT (CASE_ID) FILTER (where\n\"Order Execution Status\" ='COMPLETED')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_delayed_time_at_order_start",
        "name": "Delayed Time at Order start",
        "description": "Average difference between actual start and scheduled start of order",
        "signalFragment": "AVG (\"Order Actual Start\" - \"Order Scheduled Start\") \nFILTER (WHERE \"Order Actual Start\" - \"Order Scheduled Start\" > DURATION '0minutes')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_orders_delayed_in_completion",
        "name": "Number of Orders Delayed in Completion",
        "description": "Number of orders where the completion is delayed",
        "signalFragment": "count(case_id) FILTER(\n\tWHERE \"Order Actual Start\" IS NOT NULL\n\tAND \"Order Actual Completion\" - \"Order Scheduled Completion\" > DURATION '0minutes')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_orders_delayed_in_start",
        "name": "Number of Orders Delayed in Start",
        "description": "Number of orders where the actual start is delayed",
        "signalFragment": "COUNT (CASE_ID) FILTER (WHERE \"Order Actual Start\" IS NOT NULL AND \"Order Actual Start\" - \"Order Scheduled Start\" > DURATION '0minutes')",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_avg_production_order_to_sfc_time",
        "name": "Time from Production Order to SFC Creation",
        "description": "Avg Time taken from Production Order creation to Shop Floor Control creation",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name = ('Create Shop Floor Control Unit'))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name = ('Create Production Order'))))\n   )",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_work_in_progress_time",
        "name": "Work in Progress Time",
        "description": "Average time between completion of one step and start of the next step",
        "signalFragment": "AVG(\n\t(SELECT FIRST(end_time) \n    \tFILTER( WHERE ${step_end_condition}))\n- (SELECT FIRST(end_time) \n    \tFILTER( WHERE ${step_start_condition}))\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_first_pass_yield_rate",
        "name": "First Pass Yield Rate",
        "description": "SFC Build Quantity that don't have NC logged against total SFC GR Quantity",
        "signalFragment": "SUM (\"SFC Build Quantity\") FILTER (WHERE \"SFC Routing Type\" != 'NC') / SUM (\"SFC Received Quantity\")",
        "aggregationType": "EVENT",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_partially_completed_orders",
        "name": "Partially Completed Orders",
        "description": "Orders that are not completed and GR quantity is available",
        "signalFragment": "COUNT (CASE_ID) FILTER (WHERE \n\"Order Execution Status\"!='COMPLETED' AND \"Order Received Quantity\" > 0)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_om_sap_dm_number_of_nonconformances",
        "name": "Number of Nonconformances",
        "description": "Total Number of all reported Nonconformances",
        "signalFragment": "COUNT (CASE_ID)\nFILTER (WHERE event_name MATCHES (LIKE 'Report%Nonconformance'))",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_DIGITAL_MANUFACTURING"
        ],
        "processTypes": [
          "OPERATE_MANUFACTURING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_mape_rate",
        "name": "Statistical forecast quantity error rate",
        "description": "Percentage of cases in a certain period in the past where Statistical Forecast Quantity Error is above 30%",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Statistical Fcst Qty Error (%)\" > 30\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\tAND \"Statistical Fcst Qty Error (%)\" <> 0\n)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_bias_rate",
        "name": "Statistical forecast quantity bias rate",
        "description": "Percentage of cases in a certain period where Statistical Forecast Quantity Bias is above 10% or less then -10%",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Statistical Fcst Qty Bias (%)\" > 10\n\tOR \"Statistical Fcst Qty Bias (%)\" < -10)\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Statistical Fcst Qty Bias (%)\" <> 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_products_without_forecast",
        "name": "Percentage of products without forecast",
        "description": "Percentage of products which could not be forecasted by the forecasting algorithm",
        "signalFragment": "COUNT(DISTINCT(\"Product ID\")) FILTER(\n\tWHERE (\n\t\tSELECT SUM(\"Statistical Fcst Qty\") = 0\n\t)\nAND \"Material Type ID\" = 'FERT'\n)\n/\nCOUNT(DISTINCT (\"Product ID\")) FILTER(\n\tWHERE \"Material Type ID\" = 'FERT'\n)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_unconsumed_products",
        "name": "Percentage of products with unconsumed forecast",
        "description": "Percentage of products with an open forecast in a certain period",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Forecast Open Output\" > 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Consensus Demand Plan Qty\" <> 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_over_or_under_forecasted",
        "name": "Combinations over or under forecasted",
        "description": "Number of combinations which are constantly being over or under forecasted",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Statistical Fcst Qty Bias (%)\" > 20\n\tOR \"Statistical Fcst Qty Bias (%)\" < -20)\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_manually_changed_product_sales_history",
        "name": "Products with manually changed sales history",
        "description": "Number of products for which sales history was changed manually by planners for a certain period",
        "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE ( SELECT COUNT(1) WHERE \"Source of Change\" = 'Excel Add-In - Planning View'\n\t\t\t\tAND \"event_name\" = 'Gather & Cleanse Historical Data'\n\t\t\t\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\t\t\t\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n    ) > 0\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_products_with_less_or_more_consensus_demand",
        "name": "Percentage of products with considerable forecast override",
        "description": "Percentage of products for which the difference between statistical forecast and final consensus demand is considerable in a certain period",
        "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE( \n\t\t(((\"Consensus Demand Plan Qty\" - \"Statistical Fcst Qty\") \n\t\t/\n\t\t\"Statistical Fcst Qty\") * 100\n\t\t) > 20\n\tOR\n\t\t(((\"Consensus Demand Plan Qty\" - \"Statistical Fcst Qty\") \n\t\t/\n\t\t\"Statistical Fcst Qty\") * 100\n\t\t) < -20\n\t)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Statistical Fcst Qty\" > 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_products_touched_by_io",
        "name": "Percentage of products not touched by IO",
        "description": "Percentage of products not part of any Inventory Optimization run in a certain period",
        "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE (\n\t\tSELECT SUM(\"Recommended Safety Stock\") = 0\n\t)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_products_without_inventory_plan",
        "name": "Products without inventory plan",
        "description": "Number of products for which there is no safety stock planned in a certain period",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Inventory Target\" = 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_combinations_with_inventory_override",
        "name": "Inventory override rate",
        "description": "Percentage of cases where the inventory was overwritten by a planner in the current planning cycle",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Finalize Inventory Plan'))\n\t\t> (SELECT FIRST(end_time)\n\t\tWHERE event_name IN ('Run Inventory Optimization'))\n\t)\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_overstocking",
        "name": "Overstocking rate",
        "description": "Percentage of combinations in the current planning cycle with more Stock on Hand than the target",
        "signalFragment": "COUNT(CASE_ID) FILTER(\n\tWHERE \"Inventory Target\" > 0 \n\tAND \"Stock on Hand\" > \"Inventory Target\"\t\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(CASE_ID) FILTER(\n\tWHERE DATE_TRUNC('month', NOW()) = \"MONTH\"\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_sales_forecast_override_rate",
        "name": "Sales forecast override rate",
        "description": "Percentage of combinations where the sales forecast was overwritten manually by a planner",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT FIRST(\"end_time\")\n\t\tWHERE event_name IN ('Review Sales Forecast') \n\t\t) IS NOT NULL\n\t)\t\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Sales Forecast Qty\" <> 0\n)* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_market_forecast_override_rate",
        "name": "Market forecast override rate",
        "description": "Percentage of combinations where the market forecast was overwritten manually by a planner",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t\t(SELECT FIRST(\"end_time\")\n\t\t\tWHERE event_name IN ('Review Marketing Forecast') \n\t\t)IS NOT NULL\n\t)\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Marketing Forecast Qty\" <> 0\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_understocking",
        "name": "Understocking rate",
        "description": "Percentage of combinations in the current planning cycle with less Stock on Hand than the target",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Inventory Target\" > \"Stock on Hand\") \n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(CASE_ID) FILTER(\n\tWHERE DATE_TRUNC('month', NOW()) = \"MONTH\"\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_resource_over_utilized",
        "name": "Capacity over-utilization",
        "description": "Number of combinations with capacity utilization is more than 100% in a certain period",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Capacity Utilization\" > 1\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_unfulfilled_customer_demand",
        "name": "Demand unfulfilled rate",
        "description": "Percentage of products with consensus demand higher than the delivered in a certain period",
        "signalFragment": "COUNT( DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Consensus Demand\" > \"Consensus Demand Delivered\" \n\tAND \"Consensus Demand\" <> 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n/\nCOUNT( DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Consensus Demand\" <> 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n* 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_affected_materials_by_heuristic_run",
        "name": "Percentage of products not touched by supply planning",
        "description": "Percentage of products not part of any supply operator execution in a certain period",
        "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER (\n\tWHERE (\n\t\tSELECT SUM(\"Receipts\") = 0\n\t\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\t\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t\t)\n\n\tAND (\n\t\tSELECT SUM(\"Projected Stock\") = 0\n\t\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\t\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)\n)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_lifecycle_or_business_status_products",
        "name": "Not planning relevant products",
        "description": "Number of products which are not relevant for supply chain planning",
        "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"PLM Status\" = '6' \n\tAND (\"Receipts\" <> 0 OR \"Projected Stock\" <> 0)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_adjusted_consensus_demand",
        "name": "Percentage of products with not efficient planning",
        "description": "Percentage of products in the current month where consensus demand was adjusted/changed after supply planning run",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Create Consensus Demand'))\n\t> (SELECT FIRST(end_time)\n\t\tWHERE event_name IN ('Run Supply Heuristics / Optimizer'))\n\t)\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Consensus Demand Plan Qty\" > 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_focus_manpower_for_demand_planning",
        "name": "Significant products with no statistical forecast",
        "description": "Number of combinations with ABC/XYZ segmentation based analysis of top selling products for forecasting process",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"ABC Id\" IN ('A','B') \n\tAND \"XYZ Id\" IN ('X','Y') \n\tAND \"Statistical Fcst Qty\" = 0\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_focus_manpower_for_inventory_planning",
        "name": "Significant products with no inventory plan",
        "description": "Number of combinations with ABC/XYZ segmentation based analysis of top selling products for inventory management",
        "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"ABC Id\" IN ('A','B') \n\tAND \"XYZ Id\" IN ('X','Y') \n\tAND \"Inventory Target\" = 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_reconciliation_review_cycle_time",
        "name": "Cycle time of reconciliation review",
        "description": "Average time taken from 'Start Reconciliation review' to 'Complete Reconciliation review'",
        "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Reconciliation review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Reconciliation review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_management_review_cycle_time",
        "name": "Cycle time of management review",
        "description": "Average time taken from 'Start Management review' to 'Complete Management review'",
        "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Management review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Management review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_demand_planning_cycle_time",
        "name": "Cycle time of demand planning",
        "description": "Average time taken from 'Start Demand Planning' to 'Complete Demand Planning'",
        "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Demand Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Demand Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_supply_planning_cycle_time",
        "name": "Cycle time of supply planning",
        "description": "Average time taken from 'Start Supply Planning' to 'Complete Supply Planning'",
        "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Supply Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Supply Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "p2f_sop_sap_ibp_demand_fulfillment",
        "name": "Perfect demand fulfillment rate",
        "description": "Percentage of combinations in a certain period with consensus demand delivered equal to consensus demand",
        "signalFragment": "COUNT(\"case_id\") FILTER(\n\tWHERE(\n\t\"Consensus Demand Delivered\" = \"Consensus Demand\"\n\t)\n    AND \"MONTH\" >= (DATE_TRUNC('month', NOW()))    \n    AND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n    AND \"Consensus Demand\" > 0 \n)\n/\nCOUNT(\"case_id\") FILTER(\n\tWHERE \"Consensus Demand\" > 0\n    AND \"MONTH\" >= (DATE_TRUNC('month', NOW()))    \n    AND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "SAP_IBP"
        ],
        "processTypes": [
          "SALES_AND_OPERATIONS"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_perc_hired_candidates",
        "name": "Percentage of Hired Candidates",
        "description": "Percentage of job applications that result in a hiring event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\tWHERE event_name IN (${hiring_events}))\n\t> 0)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_hired_candidates",
        "name": "Number of Hired Candidates",
        "description": "Number of job applications that result in a hiring event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\tWHERE event_name IN (${hiring_events}))\n\t> 0)",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_avg_time_to_hire",
        "name": "Average Time to Hire",
        "description": "Average Time Between Job Application Received and Candidate Hired",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name IN (${hiring_events}))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${job_application_creation_events}))))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_avg_time_to_fill",
        "name": "Average Time to Fill",
        "description": "Average Time Between Job Requisition Created and Position Filled",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name IN (${hiring_events}))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${job_requisition_creation_events}))))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_avg_time_to_extend_offer",
        "name": "Average Time to Extend Job Offer",
        "description": "Average Time Between Candidate Selected by Hiring Manager and Offer Extended to Candidate",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name IN (${offer_extended_events}))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${hiring_manager_hired_events}))))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_a2at_sap_sfsf_num_open_job_requisitions",
        "name": "Number of Open Job Requisitions",
        "description": "The number of currently open job requisitions, based on the count of unique Job Requisition IDs and their Job Requisition Status",
        "signalFragment": "COUNT(DISTINCT \"Job Requisition ID\") FILTER (\n\tWHERE \"Job Requisition Status\" IN (${job_req_status_open}))",
        "aggregationType": "CASE",
        "processTypes": [
          "ATTRACT_TO_ACQUIRE_TALENT"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_avg_time_completed_prior_to_effective_date",
        "name": "Average Time Completed Prior To Effective Date",
        "description": "Determines how long before the effective date the record was created. A negative value means that the record was created retroactively.",
        "signalFragment": "AVG(\n(SELECT FIRST(\"Effective Date\")) \n- \n(SELECT LAST(\"Created Date\"))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_avg_time_resubmit_workflow_request",
        "name": "Average Time for Employee to Resubmit Workflow Request",
        "description": "Counts the average time from when a workflow was rejected by HR until the employee resubmits a workflow request",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Resubmitted'))) \n- (SELECT FIRST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Rejected'))))",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_avg_time_to_approve_workflow_request",
        "name": "Average Time to Approve Workflow Request",
        "description": "Counts the average time from the initiation of a workflow to change personal data by the employee to the approval of the workflow request by the HR department",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Approved'))) \n- (SELECT FIRST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Initiated'))))",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_avg_time_to_reject_workflow_request",
        "name": "Average Time to Reject Workflow Request",
        "description": "Counts the average time from the initiation of a workflow to change personal data by the employee to the rejection of the workflow request by the HR department",
        "signalFragment": "AVG ((SELECT LAST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Rejected'))) \n- (SELECT FIRST (END_TIME) FILTER (\n WHERE EVENT_NAME IN ('Personal Data Change WF Initiated'))))",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_avg_time_workflow_initiated_prior_to_effective_date",
        "name": "Average Time Workflow Initiated Prior to Effective Date",
        "description": "Determines how long before the effective date the workflow request was initiated. A negative value means that the record was created retroactively.",
        "signalFragment": "AVG(\"Effective Date\" - \"Workflow Created Date\")",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "r2r_mpei_sap_sfsf_rate_of_personal_data_changes_initiated_by_employee",
        "name": "Rate of Personal Data Changes Initiated by Employee",
        "description": "Determines the rate of cases with personal data changes initiated by the employee.",
        "signalFragment": "SUM(\n\t(SELECT COUNT(CASE_ID) FILTER (\n \tWHERE (EVENT_NAME IN ('Personal Data Change WF Initiated'))))) \n/ COUNT (CASE_ID) \n*100",
        "aggregationType": "CASE",
        "processTypes": [
          "MANAGE_PERSONAL_EMPLOYEE_INFORMATION"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "avg_nr_reworks_per_case",
        "name": "Average number of reworks per case",
        "description": "Average number, per case, of events that appear at least twice",
        "signalFragment": "AVG((SELECT COUNT(event_name) - COUNT(DISTINCT event_name)))",
        "aggregationType": "CASE",
        "category": "Rework",
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_rework_cases",
        "name": "Percentage of cases affected by rework",
        "description": "Number of cases affected by rework divided by the total number of cases",
        "signalFragment": "COUNT(case_id) FILTER (WHERE\n\t(SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub\n)\n)/COUNT(case_id)*100",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_rework_events",
        "name": "Percentage of events affected by rework",
        "description": "Number of events in the process that appear at least twice divided by the total number of events",
        "signalFragment": "SUM(\n(SELECT COUNT(event_name) - COUNT(DISTINCT event_name))\n)\n/\nSUM((SELECT COUNT(event_name))) * 100",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "avg_cycle_time_rework_cases",
        "name": "Average cycle time for cases affected by rework",
        "description": "Average cycle time calculated from the first to the last event for cases affected by rework",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t)",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "net_avg_rework_cycle_time",
        "name": "Net average cycle time spent on rework",
        "description": "Difference between the average cycle time of the cases that have any rework and the average cycle time of the whole process",
        "signalFragment": "(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t))\n-\n(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n))",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_cases_no_rework",
        "name": "Percentage of cases without any rework",
        "description": "Number of cases not affected by rework divided by the total number of cases",
        "signalFragment": "100 - (COUNT(case_id) FILTER (WHERE\n\t(SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM (SELECT OCCURRENCE(event_name) AS occurrence) AS sub\n)\n)/COUNT(case_id)*100)",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "fraction_tot_cycle_time_on_rework",
        "name": "Fraction of total average cycle time spent on rework",
        "description": "Ratio between net average cycle time spent on rework and total average cycle time",
        "signalFragment": "((AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM (SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t))\n-\n(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t))\n)\n/(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t))",
        "aggregationType": "CASE",
        "category": "Rework",
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_no_fallback_clauses",
        "name": "Number of Fallback Clauses",
        "description": "Number of contract clauses with type 'Fallback'",
        "signalFragment": "SUM(${attribute_for_no_fallback_contract_clauses})",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_no_alternative_clauses",
        "name": "Number of Alternative Clauses",
        "description": "Number of contract clauses with type 'Alternative'",
        "signalFragment": "SUM(${attribute_for_no_alternative_contract_clauses})",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_no_empty_clauses",
        "name": "Number of Empty Clauses",
        "description": "Number of contract clauses with type 'Empty'",
        "signalFragment": "SUM(${attribute_for_no_empty_contract_clauses})",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_no_preferred_clauses",
        "name": "Number of Preferred Clauses",
        "description": "Number of contract clauses with type 'Preferred'",
        "signalFragment": "SUM(${attribute_for_no_preferred_contract_clauses})",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_expiring_contracts",
        "name": "Number of Expiring Contracts",
        "description": "Number of contracts expiring in 3 months",
        "signalFragment": "COUNT(case_id) FILTER\n\t( WHERE \"Contract Expiration Type\" IN ('Fixed') AND\n    \t\"Contract Status\" IN ('Published') AND\n        ( \"Contract Expiration Date\" - NOW() < DURATION ${duration_of_expiring_contracts} )\n    )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_signature_cycle_time",
        "name": "E-signature cycle time",
        "description": "Average cycle time for e-signature",
        "signalFragment": "AVG(\n\t( SELECT LAST(end_time)\n\t\tWHERE event_name IN (${contract_signature_events}) )\n\t-\n    ( SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${request_of_contract_signature_events}) )\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_expired_contracts",
        "name": "Number of Expired Contracts",
        "description": "Number of expired contracts",
        "signalFragment": "COUNT(case_id) FILTER\n\t( WHERE \"Contract Status\" IN ('Expired') OR\n    \t( \"Contract Expiration Date\" - NOW() < DURATION '0days' ) )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_contract_cycle_time",
        "name": "Contract cycle time",
        "description": "Average time taken from event 'Create Contract' to event 'Contract is effective'",
        "signalFragment": "AVG(\n\t( SELECT LAST(end_time)\n\t\tWHERE event_name IN (${contract_is_effective_events}) )\n\t-\n    ( SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${create_contract_events}) )\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_rate_of_contracts_created_through_sourcing",
        "name": "Rate of Contracts created through Sourcing Events",
        "description": "Percentage of contracts created through sourcing events",
        "signalFragment": "COUNT(\"case_id\") FILTER\n\t( WHERE ${condition_for_created_from_sourcing_event} )\n\t/\nCOUNT(\"case_id\")\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_no_of_contracts_created_through_sourcing",
        "name": "Number of Contracts created through Sourcing Events",
        "description": "Number of contracts created through sourcing events",
        "signalFragment": "COUNT(\"case_id\") FILTER\n\t( WHERE ${condition_for_created_from_sourcing_event} )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_cases_with_preferred_clause",
        "name": "Number of Contracts with Preferred Clause",
        "description": "Number of contracts with at least one contract clause with type 'Preferred'",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${attribute_for_no_preferred_contract_clauses} > 0 )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_avg_no_contract_cluase_types",
        "name": "Average Number of Contract Clause Types",
        "description": "Average number of contract clause types per contracts",
        "signalFragment": "(\n\tCOUNT(1) FILTER (WHERE ${attribute_for_no_alternative_contract_clauses} > 0 ) +\n\tCOUNT(1) FILTER (WHERE ${attribute_for_no_empty_contract_clauses} > 0 ) +\n\tCOUNT(1) FILTER (WHERE ${attribute_for_no_fallback_contract_clauses} > 0 ) +\n\tCOUNT(1) FILTER (WHERE ${attribute_for_no_preferred_contract_clauses} > 0 )\n)\n/\nCOUNT(case_id)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_sum_of_contract_clauses",
        "name": "Number of Contract Clauses",
        "description": "Sum of all contract clauses",
        "signalFragment": "SUM(${attribute_for_no_alternative_contract_clauses}) +\nSUM(${attribute_for_no_empty_contract_clauses}) +\nSUM(${attribute_for_no_fallback_contract_clauses}) +\nSUM(${attribute_for_no_preferred_contract_clauses})",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_c_sap_ariba_avg_no_contract_clauses",
        "name": "Average Number of Contract Clauses",
        "description": "Average number of contract clauses per contracts",
        "signalFragment": "(SUM(${attribute_for_no_alternative_contract_clauses}) +\nSUM(${attribute_for_no_empty_contract_clauses}) +\nSUM(${attribute_for_no_fallback_contract_clauses}) +\nSUM(${attribute_for_no_preferred_contract_clauses}))\n/\nCOUNT(case_id)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_CONTRACTING"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_avg_pr_confirmation_time",
        "name": "Average confirmation time for purchase requisitions",
        "description": "Average time needed to confirm a purchase requisition by creating a purchase order",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_po_creation_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_pr_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_avg_invoice_payment_time",
        "name": "Average invoice payment time",
        "description": "Average time to clear invoices",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_invoice_clearing_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_invoice_receipt_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_avg_po_to_delivery_time",
        "name": "Average time from purchase order to delivery",
        "description": "Average time from purchase order to goods receipt",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_goods_receipt_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ariba_po_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of cases with late payments. Only cases that are paid are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_late_payment_condition})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_invoice_clearing_date} IS NOT NULL)\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_overdue_payment_rate",
        "name": "Overdue payment rate",
        "description": "Percentage of cases with overdue payments. Only cases that have not been paid yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_overdue_payment_condition})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_invoice_clearing_date} IS NULL)\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_process_compliance",
        "name": "Process compliance",
        "description": "Percentage of compliant Procure-to-Pay cases",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ariba_compliant_event_sequence})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_two_way_match_rate",
        "name": "Two-way match rate",
        "description": "Percentage of purchase orders with a two-way match",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_two_way_match_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_late_deliveries",
        "name": "Late deliveries cases",
        "description": "Number of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ariba_late_delivery_condition}\n\t\tAND ${ptp_ariba_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_late_deliveries_rate",
        "name": "Late deliveries rate",
        "description": "Percentage of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ariba_late_delivery_condition}\n\t\tAND ${ptp_ariba_delivery_completed_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE ${ptp_ariba_delivery_completed_condition}\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_late_deliveries_delay",
        "name": "Average delay of late deliveries",
        "description": "The average delay time of late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "AVG(${ptp_ariba_goods_receipt_date} - ${ptp_ariba_delivery_due_date}) FILTER (\n\tWHERE ${ptp_ariba_late_delivery_condition}\n\t\tAND ${ptp_ariba_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_on_time_delivery_rate",
        "name": "On-Time Delivery rate",
        "description": "Percentage of cases with on-time deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "(1 - \n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ptp_ariba_late_delivery_condition}\n\t\t\tAND ${ptp_ariba_delivery_completed_condition}\n\t\t)\n\t/\n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ptp_ariba_delivery_completed_condition}\n\t\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_overdue_deliveries",
        "name": "Overdue deliveries cases",
        "description": "Number of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ariba_overdue_delivery_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_overdue_deliveries_rate",
        "name": "Overdue deliveries rate",
        "description": "Percentage of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ariba_overdue_delivery_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${ptp_ariba_delivery_completed_condition}) IS NULL\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_pos_created_after_invoice_receipt",
        "name": "POs created after Invoice Receipt",
        "description": "Total number of cases in which a PO Item has been created after the Invoice Receipt event",
        "signalFragment": "COUNT(case_id) FILTER\n\t(WHERE (event_name MATCHES(${ptp_ariba_po_created_after_invoice_receipt})))",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_invoices_waiting_for_gr",
        "name": "Invoices waiting for Goods Receipt",
        "description": "Total number of cases with Invoices waiting for the Goods Receipt event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES(${ptp_ariba_goods_receipt_events}))\n\tAND (event_name MATCHES((${ptp_ariba_invoice_receipt_event_flow})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_late_payments_cycle_time",
        "name": "Late payments cycle time",
        "description": "Average payment cycle time of cases with late payments",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER \n\t\t(WHERE event_name IN (${ptp_ariba_invoice_clearing_events})))\n\t-\n\t(SELECT FIRST(end_time) FILTER \n    \t(WHERE event_name IN (${ptp_ariba_invoice_receipt_events})))\n\t) FILTER (\n\tWHERE (${ptp_ariba_late_payment_condition})\n\tAND ${ptp_ariba_invoice_clearing_date} IS NOT NULL\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_percentage_of_manual_invoices",
        "name": "Percentage of Ariba invoice that are manual",
        "description": "Ariba invoice received manually as a Percentage of total Ariba invoice count",
        "signalFragment": "COUNT(DISTINCT \"Invoice ID\") FILTER (\n\tWHERE \"Last Invoice Reconciliation Status\" = 'Reconciling'\n AND \"Last Invoice Submission Method\"= 'PaperInvoice'\n\t)\n/\nCOUNT(DISTINCT \"Invoice ID\") FILTER (\n\tWHERE \"Last Invoice Reconciliation Status\" = 'Reconciling'\n\t)\n* 100",
        "aggregationType": "EVENT",
        "sourceSystems": [
          "ARIBA"
        ],
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_percentage_of_invoices_with_exception",
        "name": "Percentage of Ariba invoices with exception",
        "description": "Ariba invoice count where the invoices had any exceptions as a % of total Ariba invoices",
        "signalFragment": "COUNT(DISTINCT \"Invoice Total Exceptions Count\")\n/\nCOUNT(DISTINCT \"Invoice ID\") FILTER (\n\tWHERE \"Last Invoice Reconciliation Status\" = 'Reconciling'\n) * 100",
        "aggregationType": "EVENT",
        "sourceSystems": [
          "ARIBA"
        ],
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_percentage_of_po_spend_on_noncatalog",
        "name": "Percentage of Ariba PO spend on non-catalog",
        "description": "To analyze PO spend associated with non catalog as a % of total spend originating from Ariba",
        "signalFragment": "SUM(\"PO Item Total Amount\") FILTER (\n\tWHERE \"PO Item Line Type\" = 'NonCatalog'\n\t)\n/ SUM(\"PO Item Total Amount\") * 100",
        "aggregationType": "CASE",
        "sourceSystems": [
          "ARIBA"
        ],
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_sap_ariba_average_po_spend_per_supplier",
        "name": "Average PO spend per supplier",
        "description": "To analyze the amount of money spent with each individual supplier in a given period of time",
        "signalFragment": "SUM(\"Last Invoice Item Amount\") FILTER (\nWHERE ${last_invoice_currency_condition_ariba}\n) /\nCOUNT(DISTINCT \"PO Item Supplier ID\") FILTER (\nWHERE ${last_invoice_currency_condition_ariba})",
        "aggregationType": "CASE",
        "sourceSystems": [
          "ARIBA"
        ],
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_avg_po_processing_time",
        "name": "Average processing time for purchase orders",
        "description": "Average time from the creation of a purchase order to its acknowledgment",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_po_acknowledgement_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_po_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_pr_confirmation_time",
        "name": "Average confirmation time for purchase requisitions",
        "description": "Average time needed to confirm a purchase requisition by creating a purchase order",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_po_creation_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_pr_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_invoice_payment_time",
        "name": "Average invoice payment time",
        "description": "Average time to clear invoices",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_invoice_clearing_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_invoice_receipt_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_goods_return_rate",
        "name": "Goods return rate",
        "description": "Percentage of cases with delivery returns",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE event_name IN (${ptp_ecc_s4h_return_delivery_events})) > 0\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_po_to_delivery_time",
        "name": "Average time from purchase order to delivery",
        "description": "Average time from purchase order to goods receipt",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_goods_receipt_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${ptp_ecc_s4h_po_creation_events}))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_payment_rate",
        "name": "Late payment rate",
        "description": "Percentage of cases with late payments. Only cases that are paid are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_late_payment_condition})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_invoice_clearing_date} IS NOT NULL)\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_overdue_payment_rate",
        "name": "Overdue payment rate",
        "description": "Percentage of cases with overdue payments. Only cases that have not been paid yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_overdue_payment_condition})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_invoice_clearing_date} IS NULL)\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_process_compliance",
        "name": "Process compliance",
        "description": "Percentage of compliant Procure-to-Pay cases",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_compliant_event_sequence})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_two_way_match_rate",
        "name": "Two-way match rate",
        "description": "Percentage of purchase orders with a two-way match",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_two_way_match_condition})\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_po_cancellations_rate",
        "name": "Cancellation rate of purchase orders",
        "description": "Percentage of cases with cancelled purchase order items",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT FIRST(event_name) FILTER (\n\t\t\tWHERE event_name IN (${ptp_ecc_s4h_po_item_cancellation_events}))) IS NOT NULL\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_deliveries",
        "name": "Late deliveries cases",
        "description": "Number of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ecc_s4h_late_delivery_condition}\n\t\tAND ${ptp_ecc_s4h_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_deliveries_rate",
        "name": "Late deliveries rate",
        "description": "Percentage of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ecc_s4h_late_delivery_condition}\n\t\tAND ${ptp_ecc_s4h_delivery_completed_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE ${ptp_ecc_s4h_delivery_completed_condition}\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_deliveries_net_value",
        "name": "Late deliveries net value",
        "description": "Net order value of cases with late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "SUM(${ptp_ecc_s4h_po_item_net_order_value}) FILTER (\n\tWHERE ${ptp_ecc_s4h_late_delivery_condition}\n\t\tAND ${ptp_ecc_s4h_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_deliveries_delay",
        "name": "Average delay of late deliveries",
        "description": "The average delay time of late deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "AVG(${ptp_ecc_s4h_goods_receipt_date} - ${ptp_ecc_s4h_delivery_due_date}) FILTER (\n\tWHERE ${ptp_ecc_s4h_late_delivery_condition}\n\t\tAND ${ptp_ecc_s4h_delivery_completed_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_on_time_delivery_rate",
        "name": "On-Time Delivery rate",
        "description": "Percentage of cases with on-time deliveries. Only cases that have been completely delivered are considered.",
        "signalFragment": "(1 - \n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ptp_ecc_s4h_late_delivery_condition}\n\t\t\tAND ${ptp_ecc_s4h_delivery_completed_condition}\n\t\t)\n\t/\n\tCOUNT(case_id) FILTER (\n\t\tWHERE ${ptp_ecc_s4h_delivery_completed_condition}\n\t\t)\n)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_overdue_deliveries",
        "name": "Overdue deliveries cases",
        "description": "Number of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ecc_s4h_overdue_delivery_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_overdue_deliveries_rate",
        "name": "Overdue deliveries rate",
        "description": "Percentage of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE ${ptp_ecc_s4h_overdue_delivery_condition}\n\t)\n/\nCOUNT(case_id) FILTER (\n\tWHERE (${ptp_ecc_s4h_delivery_completed_condition}) IS NULL\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_overdue_deliveries_net_value",
        "name": "Overdue deliveries net value",
        "description": "Net order value of cases with overdue deliveries. Only cases that have not been (completely) delivered yet are considered.",
        "signalFragment": "SUM(${ptp_ecc_s4h_po_item_net_order_value}) FILTER (\n\tWHERE ${ptp_ecc_s4h_overdue_delivery_condition}\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_payment_block_rate",
        "name": "Payment block rate",
        "description": "Percentage of cases in which a payment block was set",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT FIRST(event_name) FILTER (\n\t\t\tWHERE event_name IN (${ptp_ecc_s4h_payment_block_events}))) IS NOT NULL\n\t)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_maverick_buying_price_changes",
        "name": "Maverick Buying - Prices Changes after Goods Receipt",
        "description": "Total number of cases with price changes that happened after the Goods Receipt had already been registered",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_maverick_buying_price_change_condition})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_maverick_buying_rate_po_after_invoice",
        "name": "Maverick Buying Rate - PO Creation after Invoice Creation",
        "description": "Percentage of cases in which the PO Item was created after the Invoice, a common indicator for Maverick Buying",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_maverick_buying_po_after_invoice_condition})\n\t)\n/ COUNT(case_id) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_pos_created_after_invoice_receipt",
        "name": "POs created after Invoice Receipt",
        "description": "Total number of cases in which a PO Item has been created after the Invoice Receipt event",
        "signalFragment": "COUNT(case_id) FILTER\n\t(WHERE (event_name MATCHES (${ptp_ecc_s4h_po_created_after_invoice_receipt})))",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_no_touch_order_rate",
        "name": "No-touch-order rate",
        "description": "Percentage of no-touch-orders, which are cases that ran without any changes or typical rework events. Automation of events is not considered.",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES ((${ptp_ecc_s4h_change_event_flow}))) AND (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\t)\n/ (COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_invoices_waiting_for_gr",
        "name": "Invoices waiting for Goods Receipt",
        "description": "Total number of cases with Invoices waiting for the Goods Receipt event",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE NOT (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\tAND (event_name MATCHES ((${ptp_ecc_s4h_invoice_receipt_event_flow})))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_volume_of_cancelled_orders",
        "name": "Volume of cancelled orders",
        "description": "Volume of orders in USD that have been cancelled",
        "signalFragment": "SUM(${ptp_ecc_s4h_po_item_net_order_value}) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_po_item_cancellation_events})\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "CURRENCY",
          "currencyCode": "USD"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_cancellation_of_gr",
        "name": "Cancellation of Goods Receipts",
        "description": "Total number of cases in which a Goods Receipt has been reversed",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_reversal_events}))\n\tAND (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_perfect_order_fulfillment_rate",
        "name": "Perfect order fulfillment rate",
        "description": "Percentage of cases that went through without any reversal of Goods Receipts",
        "signalFragment": "(COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\t)\n\t-\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_reversal_events}))\n\t))\n\t/\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ptp_ecc_s4h_goods_receipt_events}))\n\t)\n\t* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_po_item_changes_rate",
        "name": "PO Item changes rate",
        "description": "Percentage of cases with PO Item changes",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES((${ptp_ecc_s4h_po_change_event_flow}))))\n\t/\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${ptp_ecc_s4h_po_creation_events}))\n\t)\n\t* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_late_payments_cycle_time",
        "name": "Late payments cycle time",
        "description": "Average payment cycle time of cases with late payments",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER \n\t\t(WHERE event_name IN (${ptp_ecc_s4h_invoice_clearing_events})))\n\t-\n\t(SELECT FIRST(end_time) FILTER \n    \t(WHERE event_name IN (${ptp_ecc_s4h_invoice_receipt_events})))\n\t) FILTER (\n\tWHERE (${ptp_ecc_s4h_late_payment_condition})\n\tAND ${ptp_ecc_s4h_invoice_clearing_date} IS NOT NULL\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_invoice_reversal_rate",
        "name": "Invoice reversal rate",
        "description": "Percentage of cases with reversed invoices",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES(${ptp_ecc_s4h_invoice_reversal_events})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE event_name MATCHES ((${ptp_ecc_s4h_invoice_receipt_event_flow}))\n\t)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_pr_item_creations",
        "name": "Number of manual PR item creations",
        "description": "Number of purchase requisition items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Create PR Item'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_pr_item_creation_automation_rate",
        "name": "PR item creation automation rate",
        "description": "Percentage of purchase requisition items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create PR Item'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (event_name = 'Create PR Item'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_po_item_creations",
        "name": "Number of manual PO item creations",
        "description": "Number of purchase order items that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Create PO Item'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_po_item_creation_automation_rate",
        "name": "PO item creation automation rate",
        "description": "Percentage of purchase order items that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create PO Item'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"case_id\") FILTER (\n\t\tWHERE (event_name = 'Create PO Item'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_contract_creations",
        "name": "Number of manual contract creations",
        "description": "Number of contracts that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Contract Id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Create Contract'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_contract_creation_automation_rate",
        "name": "Contract creation automation rate",
        "description": "Percentage of contracts that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Contract Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create Contract'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"Contract Id\") FILTER (\n\t\tWHERE (event_name = 'Create Contract'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_gr_creations",
        "name": "Number of manual GR creations",
        "description": "Number of goods receipts that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"GR Document ID\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Create Goods Receipt'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_gr_creation_automation_rate",
        "name": "GR creation automation rate",
        "description": "Percentage of goods receipts that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"GR Document ID\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create Goods Receipt'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"GR Document ID\") FILTER (\n\t\tWHERE (event_name = 'Create Goods Receipt'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_invoice_creations",
        "name": "Number of manual invoice creations",
        "description": "Number of invoices that were created manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Create FI Invoice'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_invoice_creation_automation_rate",
        "name": "Invoice creation automation rate",
        "description": "Percentage of invoices that were created using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Create FI Invoice'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\t\tWHERE (event_name = 'Create FI Invoice'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_invoice_clearings",
        "name": "Number of manual invoice clearings",
        "description": "Number of invoices that were cleared manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name = 'Clear Invoice'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_invoice_clearing_automation_rate",
        "name": "Invoice clearing automation rate",
        "description": "Percentage of invoices that were cleared using automation",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" IN ('System','Service')\n\t\tAND (event_name = 'Clear Invoice'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"FI Invoice ID\") FILTER (\n\t\tWHERE (event_name = 'Clear Invoice'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_contract_changes",
        "name": "Number of manual contract changes",
        "description": "Number of contracts that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name LIKE 'Change Contract%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_contract_changes_rate",
        "name": "Manual contract changes rate",
        "description": "Percentage of contracts that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Contract%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Contract%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_po_changes",
        "name": "Number of manual PO changes",
        "description": "Number of purchase orders that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name LIKE 'Change PO%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_po_changes_rate",
        "name": "Manual PO changes rate",
        "description": "Percentage of purchase orders that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change PO%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (event_name LIKE 'Change PO%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_pr_changes",
        "name": "Number of manual PR changes",
        "description": "Number of purchase requisitions that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name LIKE 'Change PR%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_pr_changes_rate",
        "name": "Manual PR changes rate",
        "description": "Percentage of purchase requisitions that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change PR%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (event_name LIKE 'Change PR%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_invoice_changes",
        "name": "Number of manual invoice changes",
        "description": "Number of invoices that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\tAND (event_name LIKE 'Change Inv%'))))\n\t)",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_p2p_x_sap_erp_ariba_manual_invoice_changes_rate",
        "name": "Manual invoice changes rate",
        "description": "Percentage of invoices that were changed manually",
        "signalFragment": "SUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (\"Event Created By User Type\" = 'Dialog'\n\t\tAND (event_name LIKE 'Change Inv%'))))\n\t) /\n\tSUM((SELECT COUNT(DISTINCT \"Unique Event Id\") FILTER (\n\t\tWHERE (event_name LIKE 'Change Inv%'\n\t)))) * 100",
        "aggregationType": "CASE",
        "processTypes": [
          "PROCURE_TO_PAY"
        ],
        "sourceSystems": [
          "SAP_ECC",
          "SAP_S4HANA",
          "CROSS_SAP_ARIBA_SAP_ERP"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_rfp_savings_baseline",
        "name": "RFP savings vs baseline spend",
        "description": "RFP (Request for Proposal) awarded value compared to the baseline spend. Indicates how much money your organization allocated (or expected to spend, baseline) versus how much they actually spent within RFP events.",
        "signalFragment": "SUM(\n\t(SELECT MAX(\"Baseline Spend of Sourcing Project\") FILTER (\n\t\tWHERE (event_name IN (${rfp_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Baseline Spend of Sourcing Project\" > 0))\n\t-(SELECT SUM(\"Awarded Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${rfp_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Baseline Spend of Sourcing Project\" > 0))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_auction_savings_baseline",
        "name": "Auction savings vs baseline spend",
        "description": "Auction awarded value compared to the baseline spend. Indicates how much money your organization allocated (or expected to spend, baseline) versus how much they actually spent within Auction events.",
        "signalFragment": "SUM(\n\t(SELECT MAX(\"Baseline Spend of Sourcing Project\") FILTER (\n\t\tWHERE (event_name IN (${auction_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Baseline Spend of Sourcing Project\"  > 0))\n\t-(SELECT SUM(\"Awarded Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${auction_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Baseline Spend of Sourcing Project\" > 0))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_rfp_savings_historic",
        "name": "RFP savings vs historic spend",
        "description": "RFP (Request for Proposal) savings compared to historic spend. Indicates how much money your organization used to spend for this product/service (historic) versus how much they actually spent within RFP events.",
        "signalFragment": "SUM(\n\t(SELECT SUM(\"Historic Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${rfp_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Historic Total Cost\" > 0))\n\t-(SELECT SUM(\"Awarded Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${rfp_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Historic Total Cost\" > 0))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_auction_savings_historic",
        "name": "Auction savings vs historic spend",
        "description": "Auction savings compared to historic spend. Indicates how much money your organization used to spend for this product/service (historic) versus how much they actually spent within Auction events.",
        "signalFragment": "SUM(\n\t(SELECT SUM(\"Historic Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${auction_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Historic Total Cost\" > 0))\n\t-(SELECT SUM(\"Awarded Total Cost\") FILTER (\n\t\tWHERE (event_name IN (${auction_creation_events})) \n        AND \"Awarded Total Cost\" > 0\n        AND \"Historic Total Cost\" > 0))\n)",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_awarded_events_1_supplier",
        "name": "Single participant awarded events",
        "description": "Number of awarded sourcing events with a single participant",
        "signalFragment": "SUM((\n\tSELECT COUNT(\"Event Id\") FILTER (\n\t\tWHERE \"Participating Suppliers\" = 1 and \"Awarded Total Cost\" > 0\n\t)\n))",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_avg_supplier_participation",
        "name": "Average supplier participation",
        "description": "Average supplier participation in sourcing events",
        "signalFragment": "AVG(\n\t(SELECT SUM(\"Participating Suppliers\") FILTER (\n\t\tWHERE (event_name IN (${sourcing_event_creation_events})) \n        ))\n\t/(SELECT SUM(\"Invited Suppliers\") FILTER (\n\t\tWHERE (event_name IN (${sourcing_event_creation_events})) \n        ))\n)*100",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_avg_project_duration",
        "name": "Average sourcing project cycle time",
        "description": "Average duration of a sourcing project from creation to close",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name IN (${sourcing_project_closure_events}))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${sourcing_project_creation_events}))))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_avg_request_conversion",
        "name": "Average sourcing request conversion duration",
        "description": "Average time it takes to convert a sourcing request to a Sourcing Project",
        "signalFragment": "AVG(\n\t(SELECT LAST(end_time) FILTER (\n\t\tWHERE (event_name IN (${sourcing_project_creation_events}))))\n\t-(SELECT FIRST(end_time) FILTER (\n\t\tWHERE (event_name IN (${sourcing_request_creation_events}))))\n   )",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "unit": {
          "type": "DURATION"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "s2p_sps_sap_ariba_request_conversion_rate",
        "name": "Sourcing request conversion rate",
        "description": "Percentage of Sourcing Requests that were converted to a Sourcing Project",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN (${sourcing_project_creation_events}))))\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "processTypes": [
          "ARIBA_STRATEGIC_SOURCING"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      },
      {
        "id": "sla_breach_ratio",
        "name": "SLA breach ratio on process level, based on SLA events",
        "description": "Percentage of cases where the SLA was breached, based on events related to SLA breaches",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT FIRST(event_name)\n\t\t\tWHERE event_name IN (${sla_breach_events})) IS NOT NULL)\n/ COUNT(case_id)\n* 100",
        "aggregationType": "CASE",
        "category": "SLAs",
        "sourceSystems": [
          "SERVICENOW"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "sla_violations",
        "name": "Number of SLA breaches based on SLA events",
        "description": "Number of cases where the SLA was breached, based on events related to SLA breaches",
        "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (SELECT FIRST(event_name) \n\t\t\tWHERE event_name IN (${sla_breach_events})) IS NOT NULL)",
        "aggregationType": "CASE",
        "category": "SLAs",
        "sourceSystems": [
          "SERVICENOW"
        ],
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "actual_to_target_sla_ratio",
        "name": "Average actual to target SLA ratio",
        "description": "Ratio between the average incident resolution duration to target SLA duration",
        "signalFragment": "AVG(\n\t((SELECT LAST(end_time) WHERE event_name IN (${sla_closure_events}))\n\t-(SELECT FIRST(end_time) WHERE event_name IN (${sla_creation_events})))\n) / (DURATION ${target_sla_time})\n*100",
        "aggregationType": "CASE",
        "category": "SLAs",
        "sourceSystems": [
          "SERVICENOW"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "DOWN",
        "version": "1.0.0"
      },
      {
        "id": "percentage_sla_meet_expectations",
        "name": "Percentage of incident resolutions that meet SLA expectations",
        "description": "Percentage of incident resolutions that met their target",
        "signalFragment": "COUNT(case_id) FILTER (WHERE (\n\tSELECT LAST(end_time) FILTER (WHERE event_name IN (${sla_closure_events}))\n\t-\n\tFIRST(end_time) FILTER (WHERE event_name IN (${sla_creation_events}))\n\t) < DURATION ${target_sla_time}\n)\n/count(case_id) *100",
        "aggregationType": "CASE",
        "category": "SLAs",
        "sourceSystems": [
          "SERVICENOW"
        ],
        "unit": {
          "type": "SUFFIX",
          "suffix": "%"
        },
        "direction": "UP",
        "version": "1.0.0"
      }
    ]
}
      

